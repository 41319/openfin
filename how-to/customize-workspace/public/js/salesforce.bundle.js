/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@openfin/salesforce/openfin.salesforce.js":
/*!****************************************************************!*\
  !*** ./node_modules/@openfin/salesforce/openfin.salesforce.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ApiError": () => (/* binding */ o),
/* harmony export */   "AuthorizationError": () => (/* binding */ s),
/* harmony export */   "ConnectionError": () => (/* binding */ i),
/* harmony export */   "ObjectDataError": () => (/* binding */ a),
/* harmony export */   "ParameterError": () => (/* binding */ c),
/* harmony export */   "QueryError": () => (/* binding */ u),
/* harmony export */   "RestApiError": () => (/* binding */ l),
/* harmony export */   "SearchError": () => (/* binding */ f),
/* harmony export */   "WorkspaceError": () => (/* binding */ d),
/* harmony export */   "connect": () => (/* binding */ p),
/* harmony export */   "disableLogging": () => (/* binding */ h),
/* harmony export */   "enableLogging": () => (/* binding */ w),
/* harmony export */   "getConnection": () => (/* binding */ m)
/* harmony export */ });
var e={421:(e,t,r)=>{e.exports=r(448)},994:(e,t,r)=>{var n=r(446),o=r(322),s=r(58),i=r(982),a=r(63),c=r(541),u=r(497),l=r(988),f=r(242),d=r(14);e.exports=function(e){return new Promise((function(t,r){var p,h=e.data,w=e.headers,m=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}n.isFormData(h)&&delete w["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";w.Authorization="Basic "+btoa(y+":"+b)}var x=a(e.baseURL,e.url);function E(){if(g){var n="getAllResponseHeaders"in g?c(g.getAllResponseHeaders()):null,s={data:m&&"text"!==m&&"json"!==m?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g};o((function(e){t(e),v()}),(function(e){r(e),v()}),s),g=null}}if(g.open(e.method.toUpperCase(),i(x,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=E:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(E)},g.onabort=function(){g&&(r(l("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){r(l("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(l(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},n.isStandardBrowserEnv()){var k=(e.withCredentials||u(x))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;k&&(w[e.xsrfHeaderName]=k)}"setRequestHeader"in g&&n.forEach(w,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete w[t]:g.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),m&&"json"!==m&&(g.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){g&&(r(!e||e&&e.type?new d("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),h||(h=null),g.send(h)}))}},448:(e,t,r)=>{var n=r(446),o=r(962),s=r(495),i=r(149),a=function e(t){var r=new s(t),a=o(s.prototype.request,r);return n.extend(a,s.prototype,r),n.extend(a,r),a.create=function(r){return e(i(t,r))},a}(r(242));a.Axios=s,a.Cancel=r(14),a.CancelToken=r(543),a.isCancel=r(181),a.VERSION=r(474).version,a.all=function(e){return Promise.all(e)},a.spread=r(67),a.isAxiosError=r(726),e.exports=a,e.exports.default=a},14:e=>{function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},543:(e,t,r)=>{var n=r(14);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},181:e=>{e.exports=function(e){return!(!e||!e.__CANCEL__)}},495:(e,t,r)=>{var n=r(446),o=r(982),s=r(582),i=r(862),a=r(149),c=r(166),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new s,response:new s}}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&c.assertOptions(r,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var s,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!o){var f=[i,void 0];for(Array.prototype.unshift.apply(f,n),f=f.concat(l),s=Promise.resolve(t);f.length;)s=s.then(f.shift(),f.shift());return s}for(var d=t;n.length;){var p=n.shift(),h=n.shift();try{d=p(d)}catch(e){h(e);break}}try{s=i(d)}catch(e){return Promise.reject(e)}for(;l.length;)s=s.then(l.shift(),l.shift());return s},l.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,r,n){return this.request(a(n||{},{method:e,url:t,data:r}))}})),e.exports=l},582:(e,t,r)=>{var n=r(446);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},63:(e,t,r)=>{var n=r(452),o=r(123);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},988:(e,t,r)=>{var n=r(477);e.exports=function(e,t,r,o,s){var i=new Error(e);return n(i,t,r,o,s)}},862:(e,t,r)=>{var n=r(446),o=r(255),s=r(181),i=r(242),a=r(14);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},477:e=>{e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},149:(e,t,r)=>{var n=r(446);e.exports=function(e,t){t=t||{};var r={};function o(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(e[r],t[r])}function i(e){if(!n.isUndefined(t[e]))return o(void 0,t[e])}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(void 0,t[r])}function c(r){return r in t?o(e[r],t[r]):r in e?o(void 0,e[r]):void 0}var u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||s,o=t(e);n.isUndefined(o)&&t!==c||(r[e]=o)})),r}},322:(e,t,r)=>{var n=r(988);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},255:(e,t,r)=>{var n=r(446),o=r(242);e.exports=function(e,t,r){var s=this||o;return n.forEach(r,(function(r){e=r.call(s,e,t)})),e}},242:(e,t,r)=>{var n=r(446),o=r(964),s=r(477),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=r(994)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(0,JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,i=!r&&"json"===this.responseType;if(i||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw s(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(i)})),e.exports=u},474:e=>{e.exports={version:"0.26.0"}},962:e=>{e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},982:(e,t,r)=>{var n=r(446);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var s;if(r)s=r(t);else if(n.isURLSearchParams(t))s=t.toString();else{var i=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),s=i.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},123:e=>{e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},58:(e,t,r)=>{var n=r(446);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,s,i){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},452:e=>{e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},726:(e,t,r)=>{var n=r(446);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},497:(e,t,r)=>{var n=r(446);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},964:(e,t,r)=>{var n=r(446);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},541:(e,t,r)=>{var n=r(446),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,s,i={};return e?(n.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=n.trim(e.substr(0,s)).toLowerCase(),r=n.trim(e.substr(s+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i}},67:e=>{e.exports=function(e){return function(t){return e.apply(null,t)}}},166:(e,t,r)=>{var n=r(474).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var s={};o.transitional=function(e,t,r){function o(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,i){if(!1===e)throw new Error(o(n," has been removed"+(t?" in "+t:"")));return t&&!s[n]&&(s[n]=!0,console.warn(o(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,i)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),o=n.length;o-- >0;){var s=n[o],i=t[s];if(i){var a=e[s],c=void 0===a||i(a,s,e);if(!0!==c)throw new TypeError("option "+s+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+s)}},validators:o}},446:(e,t,r)=>{var n=r(962),o=Object.prototype.toString;function s(e){return Array.isArray(e)}function i(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===o.call(e)}function c(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===o.call(e)}function f(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===o.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:u,isUndefined:i,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return c(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===o.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:f,merge:function e(){var t={};function r(r,n){u(t[n])&&u(r)?t[n]=e(t[n],r):u(r)?t[n]=e({},r):s(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)f(arguments[n],r);return t},extend:function(e,t,r){return f(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};(()=>{r.d(n,{MS:()=>o,M_:()=>s,hY:()=>i,G4:()=>a,_W:()=>c,o:()=>u,C3:()=>f,fB:()=>l,if:()=>d,$j:()=>T,U$:()=>w,U7:()=>m,B5:()=>$});var e=r(421),t=r.n(e);class o extends Error{constructor(e="An unexpected error has occurred",t){var r;super(e),t&&(this.innerError=t&&t),this.stack=null===(r=this.stack)||void 0===r?void 0:r.replace(/^(\w*Error)/,`${this.constructor.name}`)}}class s extends o{constructor(e="Unable to authorize connection to Salesforce",t){var r,n,o;super(e,t),t&&t.isAxiosError&&(t.message=null!==(o=null===(n=null===(r=t.response)||void 0===r?void 0:r.data)||void 0===n?void 0:n.error_description)&&void 0!==o?o:t.message)}}class i extends o{constructor(e="Not connected to Salesforce",t){super(e,t)}}class a extends o{constructor(e="Retrieve Salesforce object data failed",t){super(e,t)}}class c extends o{constructor(e="Invalid parameter detected",t){super(e,t)}}class u extends o{constructor(e="Execute Salesforce query failed",t){super(e,t)}}class l extends o{constructor(e="Unable to retrieve search results from Salesforce",t){super(e,t)}}class f extends o{constructor(e,t="Execute Salesforce REST API request failed"){var r,n,o,s,i;super(t,null!=e?e:void 0),this.restApiErrorCode="",this.restApiErrorDescription="",this.restApiResponseStatus=void 0;const a=e;if(null==a?void 0:a.isAxiosError){if(this.restApiResponseStatus=null===(r=a.response)||void 0===r?void 0:r.status,!(null===(o=null===(n=a.response)||void 0===n?void 0:n.data)||void 0===o?void 0:o.length))return;const e=null===(i=null===(s=a.response)||void 0===s?void 0:s.data)||void 0===i?void 0:i[0];if(e){const{errorCode:t,message:r}=e;this.restApiErrorCode=t,this.restApiErrorDescription=r}}}}class d extends o{constructor(e="An unexpected error occurred",t){super(e,t)}}let p=!1;const h="[@openfin/salesforce]",w=()=>{p=!1},m=()=>{p=!0,g("v2.1.3")},v=e=>{if(p&&(e.innerError?console.error(h,e,"\n\n(inner)",e.innerError):console.error(h,e),e instanceof f)){const{restApiErrorCode:t,restApiErrorDescription:r}=e;if(r){const e=r.replace(/\n/g," ").trim(),n=t?`${t}: ${e}`:e;console.warn(h,n)}}},g=(...e)=>{p&&console.log(h,...e)},y=(...e)=>{p&&console.warn(h,...e)};window.fin||Object.assign(window,{fin:{}}),Object.assign(window.fin,{Integrations:{Salesforce:{enableLogging:m,disableLogging:w}}});const b="54.0",x=/vXX\.X/i,E=e=>(Array.isArray(e)?e:Object.entries(e)).reduce(((e,t)=>{const r=Array.isArray(e)?t:t[1];let n;switch(!0){case null==r:n=r;break;case"string"==typeof r:n=r.replace(x,"v54.0");break;case Array.isArray(r):case"object"==typeof r:n=E(r);break;default:n=r}return Array.isArray(e)?e.push(n):e[t[0]]=n,e}),Array.isArray(e)?[]:{}),k="salesforce-auth",S="https://login.salesforce.com/services/oauth2/success",A=(e,t,r)=>{e.accessToken&&window.localStorage.setItem(_(t,r),e.accessToken),e.refreshToken&&window.localStorage.setItem(L(t,r),e.refreshToken)},T=async(e,t,r=!1)=>{let n;try{n=new URL(e).origin}catch(e){throw new c("Invalid Salesforce URL")}if(!/salesforce.com$/i.test(n))throw new c("Invalid Salesforce URL");if(void 0===(null!=t?t:void 0)||""===t.trim())throw new c("Consumer key not provided");g(`Connecting to ${n} using key ${t}`);const o=await $(e,t);if(o)return o;g("No existing connection found, starting auth flow");const a=(await fin.Application.getCurrentSync().getChildWindows()).find((e=>e.identity.name===k));a&&await a.close(!0);const u=r?"https://test.salesforce.com":"https://login.salesforce.com",l=(new Date).getTime().toString(),f=j(),d=await O(f),p=`${u}/services/oauth2/authorize?\n    client_id=${t}&\n    redirect_uri=${S}&\n    response_type=code&\n    scope=api+refresh_token&\n    state=${l}&\n    code_challenge=${d}&\n    display=popup&\n    prompt=select_account\n    `.replace(/\s/g,""),h=await fin.Window.create({alwaysOnTop:!0,maximizable:!1,minimizable:!1,autoShow:!1,defaultCentered:!0,defaultHeight:700,defaultWidth:600,includeInSnapshots:!1,name:k,resizable:!1,saveWindowState:!1,showTaskbarIcon:!1,url:p}),w=await new Promise(((e,t)=>{let r;const n=window.setTimeout((()=>{window.clearInterval(r),window.clearTimeout(n),h.removeAllListeners(),h.close(!0);const e=new s("Authorization timed out");v(e),t(e)}),3e5);h.addListener("closing",(async()=>{g("User closed auth window"),window.clearInterval(r),window.clearTimeout(n),h.removeAllListeners();const e=new s("Failed to complete authorization");v(e),t(e)})),r=window.setInterval((()=>(async(e,t,r,n,o,i)=>{let a;try{a=await e.getInfo()}catch(e){window.clearInterval(t),window.clearTimeout(r);const n=new s("Could not locate oauth flow window");return v(n),i(n)}const c=new URL(a.url);if(0===new URL(a.url).href.toLowerCase().indexOf(S.toLowerCase())){if(window.clearInterval(t),window.clearTimeout(r),e.removeAllListeners(),e.close(!0),c.searchParams.get("state")!==n){const e=new s("State mismatch");return v(e),i(e)}const a=c.searchParams.get("code");if(!a){const e=new s("Authorization code missing");return v(e),i(e)}return g("Authorization code received"),o(a)}const u=await e.executeJavaScript("window.document.body.innerText"),l=new URLSearchParams(u).get("error_description");if(l){window.clearInterval(t),window.clearTimeout(r),e.removeAllListeners(),e.close(!0);const n=l[0].toUpperCase()+l.slice(1),o=new s(n);v(o),i(o)}else await e.isShowing()||(g("Showing auth window"),await e.show(!0),await e.focus())})(h,r,n,l,e,t)),500)})),m=await R(w,f,n,t);if(g("Checking connection with new access token"),!await D(m.accessToken,n)){const e=new i("Invalid Salesforce org URL or access token");throw v(e),e}return g("Connection established"),A(m,n,t),{consumerKey:t,disconnect:C(n,t),getAuthTokens:()=>U(n,t),orgUrl:n,executeApiRequest:P(n,t)}},C=(e,r)=>async()=>{g("Disconnecting from Salesforce");let n=window.localStorage.getItem(L(e,r));if(n)g("Revoking refresh token");else{if(n=window.localStorage.getItem(_(e,r)),!n)return void g("No tokens found in storage");g("Revoking access token")}try{await t().get(`${e}/services/oauth2/revoke?token=${n}`)}catch(e){y("Failed to revoke tokens",null==e?void 0:e.message)}B(e,r)},R=async(e,r,n,o)=>{g("Exchanging auth code for tokens");const i=`${n}/services/oauth2/token`,a=`\n    grant_type=authorization_code&\n    client_id=${o}&\n    code=${e}&\n    code_verifier=${r}&\n    redirect_uri=${S}\n    `.replace(/\s/g,"");let c;try{c=(await t().post(i,a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}catch(e){const t=new s("Failed to exchange authorization code for auth tokens",e);throw v(t),t}const{access_token:u,refresh_token:l}=c;if(!u||!l)throw new s("Missing access token or refresh token during code exchange");return g("Tokens received"),{accessToken:u,refreshToken:l}},O=async e=>{const t=(new TextEncoder).encode(e),r=await window.crypto.subtle.digest("SHA-256",t);return btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(r)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+\$/,"")},j=()=>{const e=new Uint32Array(64);return window.crypto.getRandomValues(e),Array.from(e,(e=>`0${e.toString(16)}`.substr(-2))).join("")},_=(e,t)=>`access-token_#_${new URL(e).hostname}_#_${t}`,U=(e,t)=>({accessToken:window.localStorage.getItem(_(e,t)),refreshToken:window.localStorage.getItem(L(e,t))}),$=async(e,t)=>{let r;if(g("Checking for existing connection"),!e||!t)return null;try{r=new URL(e).origin}catch(e){return null}const{accessToken:n}=U(r,t);if(!n)return null;if(!await D(n,r))try{await I(r,t)}catch(e){return null}return g(`Connection exists to ${e}`),{consumerKey:t,disconnect:C(r,t),getAuthTokens:()=>U(r,t),orgUrl:r,executeApiRequest:P(r,t)}},P=(e,r)=>async(n,o,s,a,u)=>{const{accessToken:l}=U(e,r);if(!l){const e=new i;throw v(e),e}const d=r=>(async(e,r,n,o="GET",s={},i={},a=!0)=>{var u,l;if(!n)throw new c("API endpoint not provided");let d;if(n=(l=n).startsWith("/")?l:`/${l}`,/^\/services\/data\//i.test(n)){const e=null===(u=/\/v(\w{2}\.\w)\//.exec(n))||void 0===u?void 0:u[1];if(!e)throw new f(null,"REST API version not specified");x.test(n)?n=n.replace(e,b):e!==b&&y(`Requested REST API version (${e}) is different to the current supported version (54.0). Using an API version other than current supported version may cause errors.`),d=new RegExp("/services/data/v54.0/composite","i").test(n)?E(s):s}else d=s;g(`Executing ${o.toUpperCase()} API request to ${n}`,d,i),a&&Object.assign(i,{Authorization:`Bearer ${r}`});try{let r;switch(o.toUpperCase()){case"DELETE":r=await t().delete(`${e}${n}`,{headers:i});break;case"GET":r=await t().get(`${e}${n}`,{headers:i});break;case"HEAD":r=await t().head(`${e}${n}`,{headers:i});break;case"PATCH":r=await t().patch(`${e}${n}`,s,{headers:i});break;case"POST":r=await t().post(`${e}${n}`,d,{headers:i});break;default:throw new f(null,"Invalid HTTP method")}return{data:r.data,status:r.status}}catch(e){if(e instanceof f)throw e;throw new f(e)}})(e,r,n,o,s,a,u);let p;try{p=await d(l)}catch(t){if(!(t instanceof f))throw v(t),t;return await N(t,e,r,l,d)}return p},L=(e,t)=>`refresh-token_#_${new URL(e).hostname}_#_${t}`,N=async(e,t,r,n,o)=>{if(v(e),await q(e,t,n))try{const e=await I(t,r);return g("Retrying request"),await o(e.accessToken)}catch(e){throw v(e),e}throw e},I=async(e,r)=>{var n,o;const{refreshToken:s}=U(e,r);if(!s)throw B(e,r),new i("No refresh token available");g("Refreshing access token");const a=`${e}/services/oauth2/token`,c=`\n    grant_type=refresh_token&\n    client_id=${r}&\n    refresh_token=${s}\n    `.replace(/\s/g,"");let u;try{u=(await t().post(a,c,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}catch(t){const s=null===(o=null===(n=t.response)||void 0===n?void 0:n.data)||void 0===o?void 0:o.error_description,a="Failed to refresh access token";throw g(s?`${a}: ${s}`:a),B(e,r),new i(a)}const{access_token:l}=u;if(!l)throw new i("Missing access token after refreshing");const f={accessToken:l,refreshToken:s};return A(f,e,r),f},B=(e,t)=>{window.localStorage.removeItem(_(e,t)),window.localStorage.removeItem(L(e,t))},q=async(e,t,r)=>{var n;return("Network Error"===(null===(n=e.innerError)||void 0===n?void 0:n.message)||"Network Error"===e.message)&&!await D(r,t)},D=async(e,r)=>{try{await t().get(`${r}/services/oauth2/userinfo?oauth_token=${e}`)}catch(e){return!1}return!0}})();var o=n.MS,s=n.M_,i=n.hY,a=n.G4,c=n._W,u=n.o,l=n.C3,f=n.fB,d=n.if,p=n.$j,h=n.U$,w=n.U7,m=n.B5;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!***********************************************!*\
  !*** ./client/src/integrations/salesforce.ts ***!
  \***********************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "deregister": () => (/* binding */ deregister),
/* harmony export */   "getApiSearchResults": () => (/* binding */ getApiSearchResults),
/* harmony export */   "getAppSearchEntries": () => (/* binding */ getAppSearchEntries),
/* harmony export */   "getBatchedResults": () => (/* binding */ getBatchedResults),
/* harmony export */   "getObjectUrl": () => (/* binding */ getObjectUrl),
/* harmony export */   "getSearchResults": () => (/* binding */ getSearchResults),
/* harmony export */   "itemSelection": () => (/* binding */ itemSelection),
/* harmony export */   "providerId": () => (/* binding */ providerId),
/* harmony export */   "register": () => (/* binding */ register),
/* harmony export */   "salesForceConnect": () => (/* binding */ salesForceConnect),
/* harmony export */   "salesForceDisconnect": () => (/* binding */ salesForceDisconnect)
/* harmony export */ });
/* harmony import */ var _openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/salesforce */ "./node_modules/@openfin/salesforce/openfin.salesforce.js");

const BROWSE_SEARCH_RESULT_KEY = "browse-salesforce";
const OBJECTS_FILTER_ID = "salesforce-objects";
const NOT_CONNECTED_SEARCH_RESULT_KEY = "salesforce-not-connected-result";
let salesForceConnection;
const providerId = "salesforce";
let integrationManager;
async function register(integrationMan, integration) {
    integrationManager = integrationManager;
    console.log("Registering SalesForce");
    try {
        await salesForceConnect(integration);
    }
    catch (err) {
        console.error("Error connecting to SalesForce", err);
    }
}
async function deregister(integration) {
    await salesForceDisconnect();
}
async function salesForceConnect(integration) {
    if (integration?.data?.orgUrl && !salesForceConnection) {
        (0,_openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__.enableLogging)();
        salesForceConnection = await (0,_openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__.connect)(integration?.data.orgUrl, integration?.data.consumerKey, integration?.data.isSandbox);
    }
}
async function salesForceDisconnect() {
    if (salesForceConnection) {
        try {
            await salesForceConnection.disconnect();
        }
        catch (err) {
            console.error("Error disconnecting SalesForce", err);
        }
        finally {
            salesForceConnection = undefined;
        }
    }
}
const getObjectUrl = (objectId, salesforceOrgOrigin) => {
    return `${salesforceOrgOrigin}/${objectId}`;
};
async function getApiSearchResults(query, selectedObjects) {
    const accountFieldSpec = "Account(Id, Industry, Name, Phone, Type, Website)";
    const contactFieldSpec = "Contact(Department, Email, Id, Name, Phone, Title)";
    const taskFieldSpec = "Task(Id, Subject, Description)";
    const contentNoteFieldSpec = "ContentNote(Id, Title, Content, TextPreview)";
    const fieldSpecMap = new Map([
        ["Account", accountFieldSpec],
        ["Contact", contactFieldSpec],
        ["Task", taskFieldSpec],
        ["ContentNote", contentNoteFieldSpec],
    ]);
    let fieldSpec = [...fieldSpecMap]
        .filter((x) => {
        if (selectedObjects?.length > 0) {
            return selectedObjects.includes(x[0]);
        }
        return true;
    })
        .map((x) => x[1])
        .join(", ");
    const batch = [];
    if (fieldSpec.length > 0) {
        const salesforceSearchQuery = `FIND {${escapeQuery(query)}} IN ALL FIELDS RETURNING ${fieldSpec} LIMIT 25`;
        batch.push({
            method: "GET",
            url: `/services/data/vXX.X/search?q=${encodeURIComponent(salesforceSearchQuery)}`,
        });
    }
    const includeChatter = !selectedObjects?.length || selectedObjects.includes("Chatter");
    if (includeChatter) {
        batch.push({
            method: "GET",
            url: `/services/data/vXX.X/chatter/feed-elements?q=${query}&pageSize=25&sort=LastModifiedDateDesc`,
        });
    }
    const batchedResults = await getBatchedResults(batch);
    let results = [];
    if (batchedResults.length > 0) {
        let idx = 0;
        if (fieldSpec.length > 0) {
            const searchResponse = batchedResults[idx++];
            if (searchResponse.searchRecords) {
                results = results.concat(searchResponse.searchRecords);
            }
        }
        if (includeChatter) {
            const chatterResponse = batchedResults[idx++];
            if (chatterResponse.elements) {
                results = results.concat(chatterResponse.elements);
            }
        }
    }
    return results;
}
async function getBatchedResults(batchRequests) {
    if (batchRequests.length === 0) {
        return [];
    }
    const batch = { batchRequests, haltOnError: false };
    const response = await salesForceConnection.executeApiRequest(`/services/data/vXX.X/composite/batch/`, "POST", batch, { "Content-Type": "application/json" });
    return response.data?.results.map((r) => r.result) ?? [];
}
function escapeQuery(query) {
    // There are some reserved characters for queries so we need to escape them
    // https://developer.salesforce.com/docs/atlas.en-us.soql_sosl.meta/soql_sosl/sforce_api_calls_sosl_find.htm#i1423105
    return query.replace(/[?&|!()^~*:"'+{}\-[\]\\]/gm, "\\$&");
}
async function getAppSearchEntries(integration) {
    const results = [];
    if (integration?.data?.orgUrl) {
        results.push({
            actions: [{ name: "Browse", hotkey: "enter" }],
            data: {
                providerId,
                pageUrl: integration?.data?.orgUrl,
                tags: ["salesforce"]
            },
            icon: integration.icon,
            key: BROWSE_SEARCH_RESULT_KEY,
            template: "Plain",
            templateContent: undefined,
            title: "Browse Salesforce",
        });
        if (!salesForceConnection) {
            results.push(getReconnectSearchResult(integration));
        }
    }
    return results;
}
async function itemSelection(integration, result, lastResponse) {
    // if the user clicked the reconnect result, reconnect to salesforce and re-run query
    if (result.key === NOT_CONNECTED_SEARCH_RESULT_KEY) {
        await salesForceConnect(integration);
        if (result.data?.query) {
            let results = await getSearchResults(integration, result.data?.query, result.data?.filters);
            if (lastResponse) {
                lastResponse.revoke(NOT_CONNECTED_SEARCH_RESULT_KEY);
                lastResponse.respond(results.results);
            }
        }
        return true;
    }
    // otherwise open the result page url in browser
    const data = result.data;
    if (data !== undefined) {
        const preload = integrationManager.platformProvider.rootUrl + "/views/salesforce/preload.js";
        const viewOptions = {
            url: data.pageUrl,
            fdc3InteropApi: "1.2",
            interop: {
                currentContextGroup: "green",
            },
            customData: { buttonLabel: "Process Participant" },
            preloadScripts: [{ url: preload }],
            target: undefined,
        };
        await integrationManager.launchView(viewOptions);
        return true;
    }
    return false;
}
async function getSearchResults(integration, query, filters) {
    if (salesForceConnection) {
        let searchResults;
        let selectedObjects = [];
        if (Array.isArray(filters) && filters.length > 0) {
            const objectsFilter = filters.find((x) => x.id === OBJECTS_FILTER_ID);
            if (objectsFilter) {
                selectedObjects = (Array.isArray(objectsFilter.options)
                    ? objectsFilter.options
                    : [objectsFilter.options])
                    .filter((x) => !!x.isSelected)
                    .map((x) => (x.value === "Note" ? "ContentNote" : x.value));
            }
        }
        try {
            searchResults = await getApiSearchResults(query, selectedObjects);
            let results = searchResults.map((searchResult) => {
                if ("Website" in searchResult) {
                    return {
                        actions: [{ name: "View", hotkey: "enter" }],
                        label: searchResult.attributes.type,
                        key: searchResult.Id,
                        title: searchResult.Name,
                        icon: integration?.data?.iconMap.account,
                        data: {
                            providerId,
                            pageUrl: getObjectUrl(searchResult.Id, integration.data?.orgUrl),
                            tags: ["salesforce"]
                        },
                        template: "Contact",
                        templateContent: {
                            name: searchResult.Name,
                            title: searchResult.Industry,
                            details: [
                                [
                                    ["Phone", searchResult.Phone],
                                    ["Type", searchResult.Type],
                                    ["Website", searchResult.Website],
                                ],
                            ],
                        },
                    };
                }
                else if ("Email" in searchResult) {
                    return {
                        actions: [{ name: "View", hotkey: "enter" }],
                        label: searchResult.attributes.type,
                        key: searchResult.Id,
                        title: searchResult.Name,
                        icon: integration?.data?.iconMap.contact,
                        data: {
                            providerId,
                            pageUrl: getObjectUrl(searchResult.Id, integration.data?.orgUrl),
                            tags: ["salesforce"]
                        },
                        template: "Contact",
                        templateContent: {
                            name: searchResult.Name,
                            title: searchResult.Title,
                            useInitials: true,
                            details: [
                                [
                                    ["Department", searchResult.Department],
                                    ["Email", searchResult.Email],
                                    ["Work #", searchResult.Phone],
                                ],
                            ],
                        },
                    };
                }
                else if ("Description" in searchResult) {
                    return {
                        actions: [{ name: "View", hotkey: "enter" }],
                        label: searchResult.attributes.type,
                        key: searchResult.Id,
                        title: searchResult.Subject,
                        icon: integration?.data?.iconMap.task,
                        data: {
                            providerId,
                            pageUrl: getObjectUrl(searchResult.Id, integration.data?.orgUrl),
                            tags: ["salesforce"]
                        },
                        template: "List",
                        templateContent: [
                            ["Subject", searchResult.Subject],
                            ["Comments", searchResult.Description],
                        ],
                    };
                }
                else if ("TextPreview" in searchResult) {
                    return {
                        actions: [{ name: "View", hotkey: "enter" }],
                        label: "Note",
                        key: searchResult.Id,
                        title: searchResult.Title,
                        icon: integration?.data?.iconMap.note,
                        data: {
                            providerId,
                            pageUrl: getObjectUrl(searchResult.Id, integration.data?.orgUrl),
                            tags: ["salesforce"]
                        },
                        template: "List",
                        templateContent: [
                            ["Title", searchResult.Title],
                            ["Content", searchResult?.TextPreview],
                        ],
                    };
                }
                else if ("actor" in searchResult &&
                    (searchResult.type === "TextPost" || searchResult.type === "ContentPost")) {
                    return {
                        actions: [{ name: "View", hotkey: "enter" }],
                        label: "Chatter",
                        key: searchResult.id,
                        title: searchResult.actor?.displayName,
                        icon: integration?.data?.iconMap.chatter,
                        data: {
                            providerId,
                            pageUrl: getObjectUrl(searchResult.id, integration.data?.orgUrl),
                            tags: ["salesforce"]
                        },
                        template: "Contact",
                        templateContent: {
                            name: searchResult.actor?.displayName,
                            useInitials: true,
                            details: [
                                [
                                    ["Header", searchResult?.header?.text],
                                    ["Note", searchResult?.body?.text],
                                ],
                            ],
                        },
                    };
                }
                else {
                    // in this case we are only searching for accounts, contacts, tasks, content notes and chatter
                    return undefined;
                }
            });
            const filteredResults = results.filter(Boolean);
            const objects = searchResults.map((result) => "attributes" in result ? result.attributes.type : "Chatter");
            return {
                results: filteredResults,
                context: {
                    filters: getSearchFilters(objects.map((c) => (c === "ContentNote" ? "Note" : c))),
                },
            };
        }
        catch (err) {
            await salesForceDisconnect();
            if (err instanceof _openfin_salesforce__WEBPACK_IMPORTED_MODULE_0__.ConnectionError) {
                return {
                    results: [
                        getReconnectSearchResult(integration, query, filters),
                    ]
                };
            }
            console.error("Error retrieving SalesForce search results", err);
        }
    }
    return {
        results: []
    };
}
function getReconnectSearchResult(integration, query, filters) {
    return {
        actions: [{ name: "Reconnect", hotkey: "enter" }],
        key: NOT_CONNECTED_SEARCH_RESULT_KEY,
        icon: integration?.icon,
        title: "Reconnect to Salesforce",
        data: {
            providerId,
            query,
            filters,
        },
    };
}
function getSearchFilters(objects) {
    if (Array.isArray(objects) && objects.length > 0) {
        let filters = [];
        let uniqueObjects = [...new Set(objects.sort())];
        let objectFilter = {
            id: OBJECTS_FILTER_ID,
            title: "Objects",
            type: "MultiSelect",
            options: [],
        };
        uniqueObjects.forEach((object) => {
            if (Array.isArray(objectFilter.options)) {
                objectFilter.options.push({
                    value: object,
                    isSelected: false,
                });
            }
        });
        filters.push(objectFilter);
        return filters;
    }
    return [];
}

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2FsZXNmb3JjZS5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxPQUFPLGNBQWMsaUJBQWlCLGVBQWUsMkZBQTJGLHNCQUFzQixrQ0FBa0MsNENBQTRDLGFBQWEsOEZBQThGLDBDQUEwQyx5QkFBeUIsV0FBVyw2RkFBNkYsdUNBQXVDLHlCQUF5QixhQUFhLE1BQU0sdUVBQXVFLCtIQUErSCxlQUFlLFNBQVMsZUFBZSxTQUFTLGFBQWEsd0pBQXdKLHNHQUFzRyxzQkFBc0IsdURBQXVELHNCQUFzQixzQ0FBc0Msd0JBQXdCLDBHQUEwRyxxSEFBcUgsMkJBQTJCLGtGQUFrRiwyQkFBMkIsbURBQW1ELGlGQUFpRiw2V0FBNlcsMkRBQTJELHdJQUF3SSxJQUFJLGVBQWUsd0RBQXdELDBDQUEwQyxvRUFBb0UsaUJBQWlCLEdBQUcsU0FBUywyR0FBMkcsc0JBQXNCLHNFQUFzRSxRQUFRLGNBQWMsZUFBZSxnQ0FBZ0MsbURBQW1ELHVDQUF1QyxlQUFlLFlBQVksY0FBYyw0RUFBNEUsTUFBTSxzQ0FBc0MsSUFBSSxHQUFHLFdBQVcsK0JBQStCLGlCQUFpQiw0QkFBNEIsUUFBUSxJQUFJLHVCQUF1QixtQkFBbUIsaUNBQWlDLGlDQUFpQyxtQkFBbUIsV0FBVywyQkFBMkIsaUJBQWlCLEdBQUcsZ0JBQWdCLDBDQUEwQyxHQUFHLHdDQUF3QyxpQ0FBaUMsbUNBQW1DLHVGQUF1RixxQ0FBcUMsb0JBQW9CLGlDQUFpQyxxQ0FBcUMscUJBQXFCLE1BQU0sT0FBTyx5QkFBeUIsSUFBSSxhQUFhLGFBQWEsU0FBUyxzQkFBc0IsNEJBQTRCLGVBQWUseUVBQXlFLGNBQWMsbUNBQW1DLDhCQUE4QixrQ0FBa0MsMkJBQTJCLGVBQWUsK0lBQStJLHFCQUFxQiwrQkFBK0Isc0lBQXNJLEtBQUssY0FBYywrQ0FBK0Msd0dBQXdHLEdBQUcsV0FBVyxtREFBbUQsK0JBQStCLE9BQU8saUJBQWlCLDBFQUEwRSxTQUFTLCtCQUErQixTQUFTLFlBQVksU0FBUyxFQUFFLDRCQUE0QixJQUFJLE9BQU8sU0FBUyxLQUFLLE9BQU8sSUFBSSxPQUFPLFNBQVMseUJBQXlCLEtBQUssU0FBUywrQkFBK0IsU0FBUyxnQ0FBZ0MsbUZBQW1GLDBEQUEwRCw2QkFBNkIsMkJBQTJCLEVBQUUsMEJBQTBCLE9BQU8sSUFBSSxpREFBaUQsK0JBQStCLDJCQUEyQixFQUFFLHNCQUFzQixJQUFJLGVBQWUsZUFBZSxhQUFhLGFBQWEsaUJBQWlCLGdDQUFnQywyQkFBMkIsK0VBQStFLHlCQUF5QiwrQkFBK0IsMENBQTBDLGlDQUFpQyxxQ0FBcUMsZUFBZSxHQUFHLGFBQWEsY0FBYyxzQkFBc0Isd0JBQXdCLDBCQUEwQixlQUFlLGFBQWEsOEJBQThCLG1CQUFtQixxQkFBcUIsZUFBZSxnREFBZ0QsY0FBYyxzR0FBc0csc0JBQXNCLG1DQUFtQyw0RkFBNEYsd0JBQXdCLHlGQUF5RixvQkFBb0IsK0NBQStDLG9FQUFvRSxlQUFlLHdJQUF3SSxJQUFJLFNBQVMsOEJBQThCLCtGQUErRixPQUFPLDhSQUE4UixJQUFJLGVBQWUsYUFBYSx3QkFBd0IsUUFBUSxTQUFTLGdCQUFnQix3RkFBd0YsNkJBQTZCLGNBQWMsa0ZBQWtGLGNBQWMsOENBQThDLGNBQWMsb0ZBQW9GLGNBQWMsd0RBQXdELE9BQU8sK1hBQStYLG9FQUFvRSxxQkFBcUIsa0NBQWtDLE1BQU0sZUFBZSxhQUFhLDBCQUEwQiw4QkFBOEIsNEdBQTRHLGVBQWUsc0JBQXNCLDBCQUEwQixjQUFjLGdDQUFnQyxnQkFBZ0IsTUFBTSxlQUFlLGtDQUFrQyxvREFBb0QsZ0JBQWdCLDJFQUEyRSxTQUFTLGNBQWMsaUVBQWlFLHlMQUF5TCxzT0FBc08sZ0lBQWdJLHFCQUFxQixrQ0FBa0MsU0FBUyxrQ0FBa0MsNEJBQTRCLE9BQU8saUNBQWlDLDJIQUEySCxxQ0FBcUMscUJBQXFCLFNBQVMsTUFBTSx5REFBeUQsU0FBUyxTQUFTLHNJQUFzSSxxQkFBcUIsVUFBVSxRQUFRLDhDQUE4QywrQ0FBK0MsZ0JBQWdCLGlEQUFpRCx3QkFBd0IsZUFBZSxTQUFTLFdBQVcsa0JBQWtCLFNBQVMsd0JBQXdCLGtCQUFrQiwwQ0FBMEMsV0FBVyxzQkFBc0Isc0JBQXNCLGVBQWUsYUFBYSxjQUFjLHlKQUF5SiwwQkFBMEIsZUFBZSxNQUFNLFlBQVksOENBQThDLEtBQUssU0FBUywyQkFBMkIsOERBQThELHlGQUF5RixJQUFJLGlCQUFpQixNQUFNLHFCQUFxQiw0REFBNEQsVUFBVSxTQUFTLHdCQUF3QiwwREFBMEQsY0FBYyxhQUFhLG9DQUFvQyw0QkFBNEIsU0FBUyx1TkFBdU4sR0FBRyxrQkFBa0IsNENBQTRDLGlCQUFpQixPQUFPLHVDQUF1QyxvQkFBb0IsbUNBQW1DLEVBQUUsa0JBQWtCLGlCQUFpQixZQUFZLHNCQUFzQixTQUFTLHNCQUFzQiw2Q0FBNkMsZUFBZSxhQUFhLHNCQUFzQiwyQ0FBMkMsZUFBZSxhQUFhLDhDQUE4QyxrRkFBa0YsY0FBYyxRQUFRLHdFQUF3RSwrUEFBK1AsNkNBQTZDLDJCQUEyQixpREFBaUQsY0FBYyxVQUFVLGVBQWUsYUFBYSx3QkFBd0IsMkJBQTJCLCtEQUErRCxJQUFJLGVBQWUscVBBQXFQLHNCQUFzQixlQUFlLCtDQUErQyxxRkFBcUYsZ0NBQWdDLHFFQUFxRSxTQUFTLFFBQVEsc0JBQXNCLG1CQUFtQix5QkFBeUIsZUFBZSwwQkFBMEIsa0ZBQWtGLGlCQUFpQiwyQ0FBMkMsR0FBRyxTQUFTLCtCQUErQixnQkFBZ0IsbUVBQW1FLHVCQUF1QixvRUFBb0UsdUlBQXVJLFlBQVksOEJBQThCLHVFQUF1RSxvQ0FBb0MsT0FBTyxFQUFFLGtCQUFrQixNQUFNLGtDQUFrQyx5REFBeUQsaURBQWlELGVBQWUsZUFBZSx5Q0FBeUMsY0FBYyx3QkFBd0IsY0FBYyxrQkFBa0IsY0FBYyx5Q0FBeUMsY0FBYyxvQ0FBb0MsY0FBYywwQ0FBMEMsK0JBQStCLHNDQUFzQyxjQUFjLHNDQUFzQyxnQkFBZ0Isc0VBQXNFLElBQUksMEJBQTBCLHFGQUFxRixXQUFXLCtDQUErQyxzSUFBc0ksd0JBQXdCLHNDQUFzQywrQkFBK0IseUdBQXlHLHNCQUFzQix5QkFBeUIsc0JBQXNCLHlCQUF5Qiw2REFBNkQsa0NBQWtDLG9CQUFvQixrQ0FBa0Msb0JBQW9CLGtDQUFrQyxtQ0FBbUMsdUJBQXVCLCtCQUErQiw2Q0FBNkMsaUNBQWlDLGlNQUFpTSw4QkFBOEIsU0FBUyxnQkFBZ0IsMkNBQTJDLCtCQUErQiwrQkFBK0IsSUFBSSxzQkFBc0IsU0FBUyx3QkFBd0IsMEJBQTBCLHNDQUFzQyxLQUFLLGtCQUFrQixrREFBa0Qsc0JBQXNCLG9EQUFvRCxNQUFNLGNBQWMsV0FBVywrQkFBK0IsWUFBWSxZQUFZLHFDQUFxQyxRQUFRLDBDQUEwQyxjQUFjLElBQUksSUFBSSxhQUFhLCtEQUErRCx1QkFBdUIsRUFBRSxzREFBc0QsU0FBUyxNQUFNLE9BQU8sb0hBQW9ILEVBQUUsc0JBQXNCLHNCQUFzQixvREFBb0QsTUFBTSxrSEFBa0gsc0JBQXNCLElBQUksa0JBQWtCLGdFQUFnRSxVQUFVLGdMQUFnTCxrQkFBa0IsK0NBQStDLFlBQVksa0JBQWtCLDBEQUEwRCxZQUFZLGtCQUFrQiw4Q0FBOEMsWUFBWSxrQkFBa0IsbURBQW1ELFlBQVksa0JBQWtCLHFFQUFxRSxZQUFZLGtCQUFrQiw4REFBOEQsY0FBYyxxSEFBcUgsVUFBVSxrQ0FBa0MsaUxBQWlMLDJGQUEyRixNQUFNLE1BQU0sc0JBQXNCLEdBQUcsMERBQTBELGtCQUFrQixnREFBZ0QsWUFBWSxTQUFTLHVDQUF1QyxLQUFLLFFBQVEsaUJBQWlCLE9BQU8sc0dBQXNHLE1BQU0sNkNBQTZDLEdBQUcsTUFBTSwyQ0FBMkMsRUFBRSxJQUFJLEVBQUUsSUFBSSxvQkFBb0IsWUFBWSx1QkFBdUIsWUFBWSx5QkFBeUIsa0NBQWtDLE9BQU8sNEJBQTRCLGNBQWMsWUFBWSxtQ0FBbUMsRUFBRSx1RkFBdUYsZ0NBQWdDLE1BQU0sV0FBVyxpQkFBaUIsTUFBTSw4Q0FBOEMsTUFBTSxvREFBb0QsTUFBTSxZQUFZLDhDQUE4Qyx3QkFBd0IsMkZBQTJGLG9JQUFvSSxxQkFBcUIsTUFBTSxJQUFJLG9CQUFvQixTQUFTLHNDQUFzQyxxRUFBcUUsdUZBQXVGLG1CQUFtQixHQUFHLFlBQVksRUFBRSxHQUFHLHFCQUFxQixjQUFjLHNEQUFzRCxrR0FBa0cscUJBQXFCLGlJQUFpSSxFQUFFLDZDQUE2QyxFQUFFLHNCQUFzQixFQUFFLHNFQUFzRSxFQUFFLHdCQUF3QixFQUFFLHFHQUFxRyxxTUFBcU0sK0JBQStCLE1BQU0sZ0NBQWdDLGtGQUFrRix5Q0FBeUMsVUFBVSxPQUFPLG1DQUFtQyxtR0FBbUcsa0RBQWtELFVBQVUsbURBQW1ELE1BQU0sSUFBSSxvQkFBb0IsU0FBUywrQ0FBK0Msb0RBQW9ELGlCQUFpQix1QkFBdUIsbUVBQW1FLHNIQUFzSCxnQ0FBZ0MsaUJBQWlCLG1DQUFtQyxPQUFPLDRDQUE0QyxpQkFBaUIsNkNBQTZDLHNIQUFzSCxNQUFNLGtGQUFrRixpREFBaUQsVUFBVSxzRkFBc0YscUJBQXFCLHNCQUFzQiw2RUFBNkUsNERBQTRELGFBQWEsNkNBQTZDLDRGQUE0RixvQkFBb0IsbUNBQW1DLDBDQUEwQyxpQ0FBaUMsS0FBSyx3RkFBd0YsMkJBQTJCLElBQUksaUJBQWlCLEVBQUUsZ0NBQWdDLEVBQUUsR0FBRyxTQUFTLHNEQUFzRCxPQUFPLG9CQUFvQixxQ0FBcUMsV0FBVyxFQUFFLGlGQUFpRixFQUFFLGNBQWMsRUFBRSx1QkFBdUIsRUFBRSxzQkFBc0IsRUFBRSwwQkFBMEIsTUFBTSxJQUFJLHVCQUF1QixTQUFTLG9EQUFvRCxRQUFRLFNBQVMseUVBQXlFLGFBQWEsTUFBTSwrQkFBK0IsR0FBRyxvRkFBb0YsNkJBQTZCLDhCQUE4QixhQUFhLHFGQUFxRixvSUFBb0ksUUFBUSw0QkFBNEIsNkRBQTZELGVBQWUsd0JBQXdCLDRCQUE0QixvQkFBb0IsS0FBSyxFQUFFLGFBQWEsaUdBQWlHLGlCQUFpQixNQUFNLDREQUE0RCxJQUFJLG9CQUFvQixTQUFTLFlBQVksTUFBTSxjQUFjLFFBQVEsa0JBQWtCLHFCQUFxQixhQUFhLFNBQVMsWUFBWSxpQ0FBaUMsRUFBRSxJQUFJLDRGQUE0Riw2QkFBNkIsTUFBTSxjQUFjLFFBQVEsT0FBTyxjQUFjLGFBQWEsb0NBQW9DLEtBQUssU0FBUyxRQUFRLCtDQUErQyxNQUFNLGlDQUFpQyxFQUFFLGtDQUFrQywwQkFBMEIsRUFBRSwwQ0FBMEMseURBQXlELG1FQUFtRSxFQUFFLHdNQUF3TSxTQUFTLGVBQWUsaUJBQWlCLGlCQUFpQixFQUFFLDJCQUEyQix3QkFBd0IsRUFBRSxFQUFFLEVBQUUsSUFBSSxNQUFNLHdCQUF3QixtQ0FBbUMsRUFBRSxFQUFFLEVBQUUsR0FBRyxVQUFVLEVBQUUsTUFBTSw2QkFBNkIsRUFBRSxFQUFFLEVBQUUsR0FBRyxVQUFVLEVBQUUsTUFBTSwrQkFBK0IsRUFBRSxFQUFFLEVBQUUsR0FBRyxVQUFVLEVBQUUsTUFBTSxpQ0FBaUMsRUFBRSxFQUFFLEVBQUUsS0FBSyxVQUFVLEVBQUUsTUFBTSwrQkFBK0IsRUFBRSxFQUFFLEVBQUUsS0FBSyxVQUFVLEVBQUUsTUFBTSxnREFBZ0QsT0FBTyw2QkFBNkIsU0FBUywwQkFBMEIsZ0JBQWdCLGlCQUFpQixNQUFNLElBQUksYUFBYSxTQUFTLGtDQUFrQywwQkFBMEIsU0FBUyw2QkFBNkIsb0JBQW9CLEtBQUssRUFBRSx1QkFBdUIsMkJBQTJCLHFCQUFxQixvREFBb0QsU0FBUyxhQUFhLFFBQVEsZ0JBQWdCLFFBQVEsTUFBTSxlQUFlLFFBQVEsdURBQXVELDZCQUE2QixXQUFXLEVBQUUsNEVBQTRFLEVBQUUsdUJBQXVCLEVBQUUsMEJBQTBCLE1BQU0sSUFBSSx1QkFBdUIsU0FBUyxvREFBb0QsUUFBUSxTQUFTLDZJQUE2SSxhQUFhLEVBQUUsSUFBSSxFQUFFLHFCQUFxQixNQUFNLGVBQWUsR0FBRywyREFBMkQsU0FBUyw4QkFBOEIsa0JBQWtCLFdBQVcsOEVBQThFLGtCQUFrQixNQUFNLDZIQUE2SCxnQkFBZ0IsSUFBSSxpQkFBaUIsRUFBRSx3Q0FBd0MsRUFBRSxHQUFHLFNBQVMsU0FBUyxVQUFVLElBQUk7Ozs7OztVQ0FobzBCO1VBQ0E7O1VBRUE7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7O1VBRUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7Ozs7O1dDdEJBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EseUNBQXlDLHdDQUF3QztXQUNqRjtXQUNBO1dBQ0E7Ozs7O1dDUEE7Ozs7O1dDQUE7V0FDQTtXQUNBO1dBQ0EsdURBQXVELGlCQUFpQjtXQUN4RTtXQUNBLGdEQUFnRCxhQUFhO1dBQzdEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQzZCO0FBZTdCLE1BQU0sd0JBQXdCLEdBQUcsbUJBQW1CLENBQUM7QUFDckQsTUFBTSxpQkFBaUIsR0FBRyxvQkFBb0IsQ0FBQztBQUMvQyxNQUFNLCtCQUErQixHQUFHLGlDQUFpQyxDQUFDO0FBRTFFLElBQUksb0JBQTBDLENBQUM7QUFFeEMsTUFBTSxVQUFVLEdBQUcsWUFBWSxDQUFDO0FBZ0d2QyxJQUFJLGtCQUFzQyxDQUFDO0FBRXBDLEtBQUssVUFBVSxRQUFRLENBQUMsY0FBa0MsRUFBRSxXQUE0QztJQUM3RyxrQkFBa0IsR0FBRyxrQkFBa0IsQ0FBQztJQUN4QyxPQUFPLENBQUMsR0FBRyxDQUFDLHdCQUF3QixDQUFDLENBQUM7SUFDdEMsSUFBSTtRQUNGLE1BQU0saUJBQWlCLENBQUMsV0FBVyxDQUFDLENBQUM7S0FDdEM7SUFBQyxPQUFPLEdBQUcsRUFBRTtRQUNaLE9BQU8sQ0FBQyxLQUFLLENBQUMsZ0NBQWdDLEVBQUUsR0FBRyxDQUFDLENBQUM7S0FDdEQ7QUFDSCxDQUFDO0FBRU0sS0FBSyxVQUFVLFVBQVUsQ0FBQyxXQUE0QztJQUMzRSxNQUFNLG9CQUFvQixFQUFFLENBQUM7QUFDL0IsQ0FBQztBQUVNLEtBQUssVUFBVSxpQkFBaUIsQ0FBQyxXQUE0QztJQUNsRixJQUFJLFdBQVcsRUFBRSxJQUFJLEVBQUUsTUFBTSxJQUFJLENBQUMsb0JBQW9CLEVBQUU7UUFDdEQsa0VBQWEsRUFBRSxDQUFDO1FBQ2hCLG9CQUFvQixHQUFHLE1BQU0sNERBQU8sQ0FDbEMsV0FBVyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQ3hCLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUM3QixXQUFXLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FDNUIsQ0FBQztLQUNIO0FBQ0gsQ0FBQztBQUVNLEtBQUssVUFBVSxvQkFBb0I7SUFDeEMsSUFBSSxvQkFBb0IsRUFBRTtRQUN4QixJQUFJO1lBQ0YsTUFBTSxvQkFBb0IsQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUN6QztRQUFDLE9BQU8sR0FBRyxFQUFFO1lBQ1osT0FBTyxDQUFDLEtBQUssQ0FBQyxnQ0FBZ0MsRUFBRSxHQUFHLENBQUMsQ0FBQztTQUN0RDtnQkFBUztZQUNSLG9CQUFvQixHQUFHLFNBQVMsQ0FBQztTQUNsQztLQUNGO0FBQ0gsQ0FBQztBQUVNLE1BQU0sWUFBWSxHQUFHLENBQzFCLFFBQWdCLEVBQ2hCLG1CQUEyQixFQUNuQixFQUFFO0lBQ1YsT0FBTyxHQUFHLG1CQUFtQixJQUFJLFFBQVEsRUFBRSxDQUFDO0FBQzlDLENBQUMsQ0FBQztBQUVLLEtBQUssVUFBVSxtQkFBbUIsQ0FDdkMsS0FBYSxFQUNiLGVBQTBCO0lBVTFCLE1BQU0sZ0JBQWdCLEdBQUcsbURBQW1ELENBQUM7SUFDN0UsTUFBTSxnQkFBZ0IsR0FBRyxvREFBb0QsQ0FBQztJQUM5RSxNQUFNLGFBQWEsR0FBRyxnQ0FBZ0MsQ0FBQztJQUN2RCxNQUFNLG9CQUFvQixHQUFHLDhDQUE4QyxDQUFDO0lBQzVFLE1BQU0sWUFBWSxHQUFHLElBQUksR0FBRyxDQUFpQjtRQUMzQyxDQUFDLFNBQVMsRUFBRSxnQkFBZ0IsQ0FBQztRQUM3QixDQUFDLFNBQVMsRUFBRSxnQkFBZ0IsQ0FBQztRQUM3QixDQUFDLE1BQU0sRUFBRSxhQUFhLENBQUM7UUFDdkIsQ0FBQyxhQUFhLEVBQUUsb0JBQW9CLENBQUM7S0FDdEMsQ0FBQyxDQUFDO0lBQ0gsSUFBSSxTQUFTLEdBQUcsQ0FBQyxHQUFHLFlBQVksQ0FBQztTQUM5QixNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtRQUNaLElBQUksZUFBZSxFQUFFLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDL0IsT0FBTyxlQUFlLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3ZDO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDLENBQUM7U0FDRCxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNoQixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFFZCxNQUFNLEtBQUssR0FBaUMsRUFBRSxDQUFDO0lBRS9DLElBQUksU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDeEIsTUFBTSxxQkFBcUIsR0FBRyxTQUFTLFdBQVcsQ0FDaEQsS0FBSyxDQUNOLDZCQUE2QixTQUFTLFdBQVcsQ0FBQztRQUVuRCxLQUFLLENBQUMsSUFBSSxDQUFDO1lBQ1QsTUFBTSxFQUFFLEtBQUs7WUFDYixHQUFHLEVBQUUsaUNBQWlDLGtCQUFrQixDQUN0RCxxQkFBcUIsQ0FDdEIsRUFBRTtTQUNKLENBQUMsQ0FBQztLQUNKO0lBRUQsTUFBTSxjQUFjLEdBQ2xCLENBQUMsZUFBZSxFQUFFLE1BQU0sSUFBSSxlQUFlLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2xFLElBQUksY0FBYyxFQUFFO1FBQ2xCLEtBQUssQ0FBQyxJQUFJLENBQUM7WUFDVCxNQUFNLEVBQUUsS0FBSztZQUNiLEdBQUcsRUFBRSxnREFBZ0QsS0FBSyx3Q0FBd0M7U0FDbkcsQ0FBQyxDQUFDO0tBQ0o7SUFFRCxNQUFNLGNBQWMsR0FBRyxNQUFNLGlCQUFpQixDQVE1QyxLQUFLLENBQUMsQ0FBQztJQUVULElBQUksT0FBTyxHQU1MLEVBQUUsQ0FBQztJQUVULElBQUksY0FBYyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDN0IsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ1osSUFBSSxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUN4QixNQUFNLGNBQWMsR0FBRyxjQUFjLENBQ25DLEdBQUcsRUFBRSxDQU1OLENBQUM7WUFDRixJQUFJLGNBQWMsQ0FBQyxhQUFhLEVBQUU7Z0JBQ2hDLE9BQU8sR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQzthQUN4RDtTQUNGO1FBRUQsSUFBSSxjQUFjLEVBQUU7WUFDbEIsTUFBTSxlQUFlLEdBQUcsY0FBYyxDQUNwQyxHQUFHLEVBQUUsQ0FDdUIsQ0FBQztZQUMvQixJQUFJLGVBQWUsQ0FBQyxRQUFRLEVBQUU7Z0JBQzVCLE9BQU8sR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQzthQUNwRDtTQUNGO0tBQ0Y7SUFFRCxPQUFPLE9BQU8sQ0FBQztBQUNqQixDQUFDO0FBRU0sS0FBSyxVQUFVLGlCQUFpQixDQUNyQyxhQUEyQztJQUUzQyxJQUFJLGFBQWEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1FBQzlCLE9BQU8sRUFBRSxDQUFDO0tBQ1g7SUFDRCxNQUFNLEtBQUssR0FBMkIsRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRSxDQUFDO0lBRTVFLE1BQU0sUUFBUSxHQUFHLE1BQU0sb0JBQW9CLENBQUMsaUJBQWlCLENBQzNELHVDQUF1QyxFQUN2QyxNQUFNLEVBQ04sS0FBSyxFQUNMLEVBQUUsY0FBYyxFQUFFLGtCQUFrQixFQUFFLENBQ3ZDLENBQUM7SUFFRixPQUFPLFFBQVEsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNoRSxDQUFDO0FBRUQsU0FBUyxXQUFXLENBQUMsS0FBYTtJQUNoQywyRUFBMkU7SUFDM0UscUhBQXFIO0lBQ3JILE9BQU8sS0FBSyxDQUFDLE9BQU8sQ0FBQyw0QkFBNEIsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUM3RCxDQUFDO0FBRU0sS0FBSyxVQUFVLG1CQUFtQixDQUFDLFdBQTRDO0lBQ3BGLE1BQU0sT0FBTyxHQUFHLEVBQUUsQ0FBQztJQUNuQixJQUFJLFdBQVcsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFO1FBQzdCLE9BQU8sQ0FBQyxJQUFJLENBQUM7WUFDWCxPQUFPLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxDQUFDO1lBQzlDLElBQUksRUFBRTtnQkFDSixVQUFVO2dCQUNWLE9BQU8sRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLE1BQU07Z0JBQ2xDLElBQUksRUFBRSxDQUFDLFlBQVksQ0FBQzthQUNHO1lBQ3pCLElBQUksRUFBRSxXQUFXLENBQUMsSUFBSTtZQUN0QixHQUFHLEVBQUUsd0JBQXdCO1lBQzdCLFFBQVEsRUFBRSxPQUFPO1lBQ2pCLGVBQWUsRUFBRSxTQUFTO1lBQzFCLEtBQUssRUFBRSxtQkFBbUI7U0FDSCxDQUFDLENBQUM7UUFFM0IsSUFBSSxDQUFDLG9CQUFvQixFQUFFO1lBQ3pCLE9BQU8sQ0FBQyxJQUFJLENBQUMsd0JBQXdCLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztTQUNyRDtLQUNGO0lBRUQsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQztBQUVNLEtBQUssVUFBVSxhQUFhLENBQ2pDLFdBQTRDLEVBQzVDLE1BQWlDLEVBQ2pDLFlBQXdDO0lBRXhDLHFGQUFxRjtJQUNyRixJQUFJLE1BQU0sQ0FBQyxHQUFHLEtBQUssK0JBQStCLEVBQUU7UUFDbEQsTUFBTSxpQkFBaUIsQ0FBQyxXQUFXLENBQUM7UUFFcEMsSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRTtZQUN0QixJQUFJLE9BQU8sR0FBRyxNQUFNLGdCQUFnQixDQUNsQyxXQUFXLEVBQ1gsTUFBTSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQ2xCLE1BQU0sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUNyQixDQUFDO1lBQ0YsSUFBSSxZQUFZLEVBQUU7Z0JBQ2hCLFlBQVksQ0FBQyxNQUFNLENBQUMsK0JBQStCLENBQUMsQ0FBQztnQkFDckQsWUFBWSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7YUFDdkM7U0FDRjtRQUNELE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFFRCxnREFBZ0Q7SUFDaEQsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQTRCLENBQUM7SUFDakQsSUFBSSxJQUFJLEtBQUssU0FBUyxFQUFFO1FBQ3RCLE1BQU0sT0FBTyxHQUFHLGtCQUFrQixDQUFDLGdCQUFnQixDQUFDLE9BQU8sR0FBRyw4QkFBOEIsQ0FBQztRQUM3RixNQUFNLFdBQVcsR0FBRztZQUNsQixHQUFHLEVBQUUsSUFBSSxDQUFDLE9BQU87WUFDakIsY0FBYyxFQUFFLEtBQUs7WUFDckIsT0FBTyxFQUFFO2dCQUNQLG1CQUFtQixFQUFFLE9BQU87YUFDN0I7WUFDRCxVQUFVLEVBQUUsRUFBRSxXQUFXLEVBQUUscUJBQXFCLEVBQUU7WUFDbEQsY0FBYyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLENBQUM7WUFDbEMsTUFBTSxFQUFFLFNBQVM7U0FDbEIsQ0FBQztRQUNGLE1BQU0sa0JBQWtCLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ2pELE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUM7QUFFTSxLQUFLLFVBQVUsZ0JBQWdCLENBQ3BDLFdBQTRDLEVBQzVDLEtBQWEsRUFDYixPQUFxQjtJQUdyQixJQUFJLG9CQUFvQixFQUFFO1FBQ3hCLElBQUksYUFNRCxDQUFDO1FBRUosSUFBSSxlQUFlLEdBQWEsRUFBRSxDQUFDO1FBQ25DLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUNoRCxNQUFNLGFBQWEsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLGlCQUFpQixDQUFDLENBQUM7WUFDdEUsSUFBSSxhQUFhLEVBQUU7Z0JBQ2pCLGVBQWUsR0FBRyxDQUNoQixLQUFLLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUM7b0JBQ2xDLENBQUMsQ0FBQyxhQUFhLENBQUMsT0FBTztvQkFDdkIsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUM1QjtxQkFDRSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDO3FCQUM3QixHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7YUFDL0Q7U0FDRjtRQUVELElBQUk7WUFDRixhQUFhLEdBQUcsTUFBTSxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsZUFBZSxDQUFDLENBQUM7WUFFbEUsSUFBSSxPQUFPLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFlBQVksRUFBRSxFQUFFO2dCQUMvQyxJQUFJLFNBQVMsSUFBSSxZQUFZLEVBQUU7b0JBQzdCLE9BQU87d0JBQ0wsT0FBTyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsQ0FBQzt3QkFDNUMsS0FBSyxFQUFFLFlBQVksQ0FBQyxVQUFVLENBQUMsSUFBSTt3QkFDbkMsR0FBRyxFQUFFLFlBQVksQ0FBQyxFQUFFO3dCQUNwQixLQUFLLEVBQUUsWUFBWSxDQUFDLElBQUk7d0JBQ3hCLElBQUksRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxPQUFPO3dCQUN4QyxJQUFJLEVBQUU7NEJBQ0osVUFBVTs0QkFDVixPQUFPLEVBQUUsWUFBWSxDQUFDLFlBQVksQ0FBQyxFQUFFLEVBQUUsV0FBVyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUM7NEJBQ2hFLElBQUksRUFBRSxDQUFDLFlBQVksQ0FBQzt5QkFDckI7d0JBQ0QsUUFBUSxFQUFFLFNBQVM7d0JBQ25CLGVBQWUsRUFBRTs0QkFDZixJQUFJLEVBQUUsWUFBWSxDQUFDLElBQUk7NEJBQ3ZCLEtBQUssRUFBRSxZQUFZLENBQUMsUUFBUTs0QkFDNUIsT0FBTyxFQUFFO2dDQUNQO29DQUNFLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxLQUFLLENBQUM7b0NBQzdCLENBQUMsTUFBTSxFQUFFLFlBQVksQ0FBQyxJQUFJLENBQUM7b0NBQzNCLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUM7aUNBQ2xDOzZCQUNGO3lCQUNGO3FCQUN3QixDQUFDO2lCQUM3QjtxQkFBTSxJQUFJLE9BQU8sSUFBSSxZQUFZLEVBQUU7b0JBQ2xDLE9BQU87d0JBQ0wsT0FBTyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsQ0FBQzt3QkFDNUMsS0FBSyxFQUFFLFlBQVksQ0FBQyxVQUFVLENBQUMsSUFBSTt3QkFDbkMsR0FBRyxFQUFFLFlBQVksQ0FBQyxFQUFFO3dCQUNwQixLQUFLLEVBQUUsWUFBWSxDQUFDLElBQUk7d0JBQ3hCLElBQUksRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxPQUFPO3dCQUN4QyxJQUFJLEVBQUU7NEJBQ0osVUFBVTs0QkFDVixPQUFPLEVBQUUsWUFBWSxDQUFDLFlBQVksQ0FBQyxFQUFFLEVBQUUsV0FBVyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUM7NEJBQ2hFLElBQUksRUFBRSxDQUFDLFlBQVksQ0FBQzt5QkFDckI7d0JBQ0QsUUFBUSxFQUFFLFNBQVM7d0JBQ25CLGVBQWUsRUFBRTs0QkFDZixJQUFJLEVBQUUsWUFBWSxDQUFDLElBQUk7NEJBQ3ZCLEtBQUssRUFBRSxZQUFZLENBQUMsS0FBSzs0QkFDekIsV0FBVyxFQUFFLElBQUk7NEJBQ2pCLE9BQU8sRUFBRTtnQ0FDUDtvQ0FDRSxDQUFDLFlBQVksRUFBRSxZQUFZLENBQUMsVUFBVSxDQUFDO29DQUN2QyxDQUFDLE9BQU8sRUFBRSxZQUFZLENBQUMsS0FBSyxDQUFDO29DQUM3QixDQUFDLFFBQVEsRUFBRSxZQUFZLENBQUMsS0FBSyxDQUFDO2lDQUMvQjs2QkFDRjt5QkFDRjtxQkFDd0IsQ0FBQztpQkFDN0I7cUJBQU0sSUFBSSxhQUFhLElBQUksWUFBWSxFQUFFO29CQUN4QyxPQUFPO3dCQUNMLE9BQU8sRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLENBQUM7d0JBQzVDLEtBQUssRUFBRSxZQUFZLENBQUMsVUFBVSxDQUFDLElBQUk7d0JBQ25DLEdBQUcsRUFBRSxZQUFZLENBQUMsRUFBRTt3QkFDcEIsS0FBSyxFQUFFLFlBQVksQ0FBQyxPQUFPO3dCQUMzQixJQUFJLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsSUFBSTt3QkFDckMsSUFBSSxFQUFFOzRCQUNKLFVBQVU7NEJBQ1YsT0FBTyxFQUFFLFlBQVksQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLFdBQVcsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDOzRCQUNoRSxJQUFJLEVBQUUsQ0FBQyxZQUFZLENBQUM7eUJBQ3JCO3dCQUNELFFBQVEsRUFBRSxNQUFNO3dCQUNoQixlQUFlLEVBQUU7NEJBQ2YsQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQzs0QkFDakMsQ0FBQyxVQUFVLEVBQUUsWUFBWSxDQUFDLFdBQVcsQ0FBQzt5QkFDdkM7cUJBQ3FCLENBQUM7aUJBQzFCO3FCQUFNLElBQUksYUFBYSxJQUFJLFlBQVksRUFBRTtvQkFDeEMsT0FBTzt3QkFDTCxPQUFPLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxDQUFDO3dCQUM1QyxLQUFLLEVBQUUsTUFBTTt3QkFDYixHQUFHLEVBQUUsWUFBWSxDQUFDLEVBQUU7d0JBQ3BCLEtBQUssRUFBRSxZQUFZLENBQUMsS0FBSzt3QkFDekIsSUFBSSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUk7d0JBQ3JDLElBQUksRUFBRTs0QkFDSixVQUFVOzRCQUNWLE9BQU8sRUFBRSxZQUFZLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxXQUFXLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQzs0QkFDaEUsSUFBSSxFQUFFLENBQUMsWUFBWSxDQUFDO3lCQUNyQjt3QkFDRCxRQUFRLEVBQUUsTUFBTTt3QkFDaEIsZUFBZSxFQUFFOzRCQUNmLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxLQUFLLENBQUM7NEJBQzdCLENBQUMsU0FBUyxFQUFFLFlBQVksRUFBRSxXQUFXLENBQUM7eUJBQ3ZDO3FCQUNxQixDQUFDO2lCQUMxQjtxQkFBTSxJQUNMLE9BQU8sSUFBSSxZQUFZO29CQUN2QixDQUFDLFlBQVksQ0FBQyxJQUFJLEtBQUssVUFBVSxJQUFJLFlBQVksQ0FBQyxJQUFJLEtBQUssYUFBYSxDQUFDLEVBQ3pFO29CQUNBLE9BQU87d0JBQ0wsT0FBTyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsQ0FBQzt3QkFDNUMsS0FBSyxFQUFFLFNBQVM7d0JBQ2hCLEdBQUcsRUFBRSxZQUFZLENBQUMsRUFBRTt3QkFDcEIsS0FBSyxFQUFFLFlBQVksQ0FBQyxLQUFLLEVBQUUsV0FBVzt3QkFDdEMsSUFBSSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLE9BQU87d0JBQ3hDLElBQUksRUFBRTs0QkFDSixVQUFVOzRCQUNWLE9BQU8sRUFBRSxZQUFZLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxXQUFXLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQzs0QkFDaEUsSUFBSSxFQUFFLENBQUMsWUFBWSxDQUFDO3lCQUNHO3dCQUN6QixRQUFRLEVBQUUsU0FBUzt3QkFDbkIsZUFBZSxFQUFFOzRCQUNmLElBQUksRUFBRSxZQUFZLENBQUMsS0FBSyxFQUFFLFdBQVc7NEJBQ3JDLFdBQVcsRUFBRSxJQUFJOzRCQUNqQixPQUFPLEVBQUU7Z0NBQ1A7b0NBQ0UsQ0FBQyxRQUFRLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUM7b0NBQ3RDLENBQUMsTUFBTSxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDO2lDQUNuQzs2QkFDRjt5QkFDRjtxQkFDd0IsQ0FBQztpQkFDN0I7cUJBQU07b0JBQ0wsOEZBQThGO29CQUM5RixPQUFPLFNBQVMsQ0FBQztpQkFDbEI7WUFDSCxDQUFDLENBQUMsQ0FBQztZQUVILE1BQU0sZUFBZSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQ3BDLE9BQU8sQ0FDNEIsQ0FBQztZQUN0QyxNQUFNLE9BQU8sR0FBRyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FDM0MsWUFBWSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FDNUQsQ0FBQztZQUVGLE9BQU87Z0JBQ0wsT0FBTyxFQUFFLGVBQWU7Z0JBQ3hCLE9BQU8sRUFBRTtvQkFDUCxPQUFPLEVBQUUsZ0JBQWdCLENBQ3ZCLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLGFBQWEsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUN2RDtpQkFDRjthQUNGLENBQUM7U0FDSDtRQUFDLE9BQU8sR0FBRyxFQUFFO1lBQ1osTUFBTSxvQkFBb0IsRUFBRSxDQUFDO1lBQzdCLElBQUksR0FBRyxZQUFZLGdFQUFlLEVBQUU7Z0JBQ2xDLE9BQU87b0JBQ0wsT0FBTyxFQUFFO3dCQUNQLHdCQUF3QixDQUFDLFdBQVcsRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO3FCQUN0RDtpQkFDRixDQUFDO2FBQ0g7WUFDRCxPQUFPLENBQUMsS0FBSyxDQUFDLDRDQUE0QyxFQUFFLEdBQUcsQ0FBQztTQUNqRTtLQUNGO0lBRUQsT0FBTztRQUNMLE9BQU8sRUFBRSxFQUFFO0tBQ1osQ0FBQztBQUNKLENBQUM7QUFFRCxTQUFTLHdCQUF3QixDQUFDLFdBQTRDLEVBQUUsS0FBYyxFQUFFLE9BQXFCO0lBQ25ILE9BQU87UUFDTCxPQUFPLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxDQUFDO1FBQ2pELEdBQUcsRUFBRSwrQkFBK0I7UUFDcEMsSUFBSSxFQUFFLFdBQVcsRUFBRSxJQUFJO1FBQ3ZCLEtBQUssRUFBRSx5QkFBeUI7UUFDaEMsSUFBSSxFQUFFO1lBQ0osVUFBVTtZQUNWLEtBQUs7WUFDTCxPQUFPO1NBQ1I7S0FDMkI7QUFDaEMsQ0FBQztBQUVELFNBQVMsZ0JBQWdCLENBQUMsT0FBaUI7SUFDekMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQ2hELElBQUksT0FBTyxHQUFnQixFQUFFLENBQUM7UUFDOUIsSUFBSSxhQUFhLEdBQUcsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDakQsSUFBSSxZQUFZLEdBQWM7WUFDNUIsRUFBRSxFQUFFLGlCQUFpQjtZQUNyQixLQUFLLEVBQUUsU0FBUztZQUNoQixJQUFJLEVBQUUsYUFBb0I7WUFDMUIsT0FBTyxFQUFFLEVBQUU7U0FDWixDQUFDO1FBRUYsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFO1lBQy9CLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEVBQUU7Z0JBQ3ZDLFlBQVksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO29CQUN4QixLQUFLLEVBQUUsTUFBTTtvQkFDYixVQUFVLEVBQUUsS0FBSztpQkFDbEIsQ0FBQyxDQUFDO2FBQ0o7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUVILE9BQU8sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDM0IsT0FBTyxPQUFPLENBQUM7S0FDaEI7SUFDRCxPQUFPLEVBQUUsQ0FBQztBQUNaLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS8uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi9zYWxlc2ZvcmNlL29wZW5maW4uc2FsZXNmb3JjZS5qcyIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vb3BlbmZpbi13b3Jrc3BhY2UtLWN1c3RvbWl6ZS13b3Jrc3BhY2Uvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9vcGVuZmluLXdvcmtzcGFjZS0tY3VzdG9taXplLXdvcmtzcGFjZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL29wZW5maW4td29ya3NwYWNlLS1jdXN0b21pemUtd29ya3NwYWNlLy4vY2xpZW50L3NyYy9pbnRlZ3JhdGlvbnMvc2FsZXNmb3JjZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZT17NDIxOihlLHQscik9PntlLmV4cG9ydHM9cig0NDgpfSw5OTQ6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KSxvPXIoMzIyKSxzPXIoNTgpLGk9cig5ODIpLGE9cig2MyksYz1yKDU0MSksdT1yKDQ5NyksbD1yKDk4OCksZj1yKDI0MiksZD1yKDE0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LHIpe3ZhciBwLGg9ZS5kYXRhLHc9ZS5oZWFkZXJzLG09ZS5yZXNwb25zZVR5cGU7ZnVuY3Rpb24gdigpe2UuY2FuY2VsVG9rZW4mJmUuY2FuY2VsVG9rZW4udW5zdWJzY3JpYmUocCksZS5zaWduYWwmJmUuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLHApfW4uaXNGb3JtRGF0YShoKSYmZGVsZXRlIHdbXCJDb250ZW50LVR5cGVcIl07dmFyIGc9bmV3IFhNTEh0dHBSZXF1ZXN0O2lmKGUuYXV0aCl7dmFyIHk9ZS5hdXRoLnVzZXJuYW1lfHxcIlwiLGI9ZS5hdXRoLnBhc3N3b3JkP3VuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlLmF1dGgucGFzc3dvcmQpKTpcIlwiO3cuQXV0aG9yaXphdGlvbj1cIkJhc2ljIFwiK2J0b2EoeStcIjpcIitiKX12YXIgeD1hKGUuYmFzZVVSTCxlLnVybCk7ZnVuY3Rpb24gRSgpe2lmKGcpe3ZhciBuPVwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzXCJpbiBnP2MoZy5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSk6bnVsbCxzPXtkYXRhOm0mJlwidGV4dFwiIT09bSYmXCJqc29uXCIhPT1tP2cucmVzcG9uc2U6Zy5yZXNwb25zZVRleHQsc3RhdHVzOmcuc3RhdHVzLHN0YXR1c1RleHQ6Zy5zdGF0dXNUZXh0LGhlYWRlcnM6bixjb25maWc6ZSxyZXF1ZXN0Omd9O28oKGZ1bmN0aW9uKGUpe3QoZSksdigpfSksKGZ1bmN0aW9uKGUpe3IoZSksdigpfSkscyksZz1udWxsfX1pZihnLm9wZW4oZS5tZXRob2QudG9VcHBlckNhc2UoKSxpKHgsZS5wYXJhbXMsZS5wYXJhbXNTZXJpYWxpemVyKSwhMCksZy50aW1lb3V0PWUudGltZW91dCxcIm9ubG9hZGVuZFwiaW4gZz9nLm9ubG9hZGVuZD1FOmcub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ZyYmND09PWcucmVhZHlTdGF0ZSYmKDAhPT1nLnN0YXR1c3x8Zy5yZXNwb25zZVVSTCYmMD09PWcucmVzcG9uc2VVUkwuaW5kZXhPZihcImZpbGU6XCIpKSYmc2V0VGltZW91dChFKX0sZy5vbmFib3J0PWZ1bmN0aW9uKCl7ZyYmKHIobChcIlJlcXVlc3QgYWJvcnRlZFwiLGUsXCJFQ09OTkFCT1JURURcIixnKSksZz1udWxsKX0sZy5vbmVycm9yPWZ1bmN0aW9uKCl7cihsKFwiTmV0d29yayBFcnJvclwiLGUsbnVsbCxnKSksZz1udWxsfSxnLm9udGltZW91dD1mdW5jdGlvbigpe3ZhciB0PWUudGltZW91dD9cInRpbWVvdXQgb2YgXCIrZS50aW1lb3V0K1wibXMgZXhjZWVkZWRcIjpcInRpbWVvdXQgZXhjZWVkZWRcIixuPWUudHJhbnNpdGlvbmFsfHxmLnRyYW5zaXRpb25hbDtlLnRpbWVvdXRFcnJvck1lc3NhZ2UmJih0PWUudGltZW91dEVycm9yTWVzc2FnZSkscihsKHQsZSxuLmNsYXJpZnlUaW1lb3V0RXJyb3I/XCJFVElNRURPVVRcIjpcIkVDT05OQUJPUlRFRFwiLGcpKSxnPW51bGx9LG4uaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSl7dmFyIGs9KGUud2l0aENyZWRlbnRpYWxzfHx1KHgpKSYmZS54c3JmQ29va2llTmFtZT9zLnJlYWQoZS54c3JmQ29va2llTmFtZSk6dm9pZCAwO2smJih3W2UueHNyZkhlYWRlck5hbWVdPWspfVwic2V0UmVxdWVzdEhlYWRlclwiaW4gZyYmbi5mb3JFYWNoKHcsKGZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09aCYmXCJjb250ZW50LXR5cGVcIj09PXQudG9Mb3dlckNhc2UoKT9kZWxldGUgd1t0XTpnLnNldFJlcXVlc3RIZWFkZXIodCxlKX0pKSxuLmlzVW5kZWZpbmVkKGUud2l0aENyZWRlbnRpYWxzKXx8KGcud2l0aENyZWRlbnRpYWxzPSEhZS53aXRoQ3JlZGVudGlhbHMpLG0mJlwianNvblwiIT09bSYmKGcucmVzcG9uc2VUeXBlPWUucmVzcG9uc2VUeXBlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uRG93bmxvYWRQcm9ncmVzcyYmZy5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIixlLm9uRG93bmxvYWRQcm9ncmVzcyksXCJmdW5jdGlvblwiPT10eXBlb2YgZS5vblVwbG9hZFByb2dyZXNzJiZnLnVwbG9hZCYmZy51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsZS5vblVwbG9hZFByb2dyZXNzKSwoZS5jYW5jZWxUb2tlbnx8ZS5zaWduYWwpJiYocD1mdW5jdGlvbihlKXtnJiYocighZXx8ZSYmZS50eXBlP25ldyBkKFwiY2FuY2VsZWRcIik6ZSksZy5hYm9ydCgpLGc9bnVsbCl9LGUuY2FuY2VsVG9rZW4mJmUuY2FuY2VsVG9rZW4uc3Vic2NyaWJlKHApLGUuc2lnbmFsJiYoZS5zaWduYWwuYWJvcnRlZD9wKCk6ZS5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIscCkpKSxofHwoaD1udWxsKSxnLnNlbmQoaCl9KSl9fSw0NDg6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KSxvPXIoOTYyKSxzPXIoNDk1KSxpPXIoMTQ5KSxhPWZ1bmN0aW9uIGUodCl7dmFyIHI9bmV3IHModCksYT1vKHMucHJvdG90eXBlLnJlcXVlc3Qscik7cmV0dXJuIG4uZXh0ZW5kKGEscy5wcm90b3R5cGUsciksbi5leHRlbmQoYSxyKSxhLmNyZWF0ZT1mdW5jdGlvbihyKXtyZXR1cm4gZShpKHQscikpfSxhfShyKDI0MikpO2EuQXhpb3M9cyxhLkNhbmNlbD1yKDE0KSxhLkNhbmNlbFRva2VuPXIoNTQzKSxhLmlzQ2FuY2VsPXIoMTgxKSxhLlZFUlNJT049cig0NzQpLnZlcnNpb24sYS5hbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIFByb21pc2UuYWxsKGUpfSxhLnNwcmVhZD1yKDY3KSxhLmlzQXhpb3NFcnJvcj1yKDcyNiksZS5leHBvcnRzPWEsZS5leHBvcnRzLmRlZmF1bHQ9YX0sMTQ6ZT0+e2Z1bmN0aW9uIHQoZSl7dGhpcy5tZXNzYWdlPWV9dC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIkNhbmNlbFwiKyh0aGlzLm1lc3NhZ2U/XCI6IFwiK3RoaXMubWVzc2FnZTpcIlwiKX0sdC5wcm90b3R5cGUuX19DQU5DRUxfXz0hMCxlLmV4cG9ydHM9dH0sNTQzOihlLHQscik9Pnt2YXIgbj1yKDE0KTtmdW5jdGlvbiBvKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImV4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi5cIik7dmFyIHQ7dGhpcy5wcm9taXNlPW5ldyBQcm9taXNlKChmdW5jdGlvbihlKXt0PWV9KSk7dmFyIHI9dGhpczt0aGlzLnByb21pc2UudGhlbigoZnVuY3Rpb24oZSl7aWYoci5fbGlzdGVuZXJzKXt2YXIgdCxuPXIuX2xpc3RlbmVycy5sZW5ndGg7Zm9yKHQ9MDt0PG47dCsrKXIuX2xpc3RlbmVyc1t0XShlKTtyLl9saXN0ZW5lcnM9bnVsbH19KSksdGhpcy5wcm9taXNlLnRoZW49ZnVuY3Rpb24oZSl7dmFyIHQsbj1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7ci5zdWJzY3JpYmUoZSksdD1lfSkpLnRoZW4oZSk7cmV0dXJuIG4uY2FuY2VsPWZ1bmN0aW9uKCl7ci51bnN1YnNjcmliZSh0KX0sbn0sZSgoZnVuY3Rpb24oZSl7ci5yZWFzb258fChyLnJlYXNvbj1uZXcgbihlKSx0KHIucmVhc29uKSl9KSl9by5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZD1mdW5jdGlvbigpe2lmKHRoaXMucmVhc29uKXRocm93IHRoaXMucmVhc29ufSxvLnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24oZSl7dGhpcy5yZWFzb24/ZSh0aGlzLnJlYXNvbik6dGhpcy5fbGlzdGVuZXJzP3RoaXMuX2xpc3RlbmVycy5wdXNoKGUpOnRoaXMuX2xpc3RlbmVycz1bZV19LG8ucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2xpc3RlbmVycyl7dmFyIHQ9dGhpcy5fbGlzdGVuZXJzLmluZGV4T2YoZSk7LTEhPT10JiZ0aGlzLl9saXN0ZW5lcnMuc3BsaWNlKHQsMSl9fSxvLnNvdXJjZT1mdW5jdGlvbigpe3ZhciBlO3JldHVybnt0b2tlbjpuZXcgbygoZnVuY3Rpb24odCl7ZT10fSkpLGNhbmNlbDplfX0sZS5leHBvcnRzPW99LDE4MTplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlLl9fQ0FOQ0VMX18pfX0sNDk1OihlLHQscik9Pnt2YXIgbj1yKDQ0Niksbz1yKDk4Mikscz1yKDU4MiksaT1yKDg2MiksYT1yKDE0OSksYz1yKDE2NiksdT1jLnZhbGlkYXRvcnM7ZnVuY3Rpb24gbChlKXt0aGlzLmRlZmF1bHRzPWUsdGhpcy5pbnRlcmNlcHRvcnM9e3JlcXVlc3Q6bmV3IHMscmVzcG9uc2U6bmV3IHN9fWwucHJvdG90eXBlLnJlcXVlc3Q9ZnVuY3Rpb24oZSx0KXtcInN0cmluZ1wiPT10eXBlb2YgZT8odD10fHx7fSkudXJsPWU6dD1lfHx7fSwodD1hKHRoaXMuZGVmYXVsdHMsdCkpLm1ldGhvZD90Lm1ldGhvZD10Lm1ldGhvZC50b0xvd2VyQ2FzZSgpOnRoaXMuZGVmYXVsdHMubWV0aG9kP3QubWV0aG9kPXRoaXMuZGVmYXVsdHMubWV0aG9kLnRvTG93ZXJDYXNlKCk6dC5tZXRob2Q9XCJnZXRcIjt2YXIgcj10LnRyYW5zaXRpb25hbDt2b2lkIDAhPT1yJiZjLmFzc2VydE9wdGlvbnMocix7c2lsZW50SlNPTlBhcnNpbmc6dS50cmFuc2l0aW9uYWwodS5ib29sZWFuKSxmb3JjZWRKU09OUGFyc2luZzp1LnRyYW5zaXRpb25hbCh1LmJvb2xlYW4pLGNsYXJpZnlUaW1lb3V0RXJyb3I6dS50cmFuc2l0aW9uYWwodS5ib29sZWFuKX0sITEpO3ZhciBuPVtdLG89ITA7dGhpcy5pbnRlcmNlcHRvcnMucmVxdWVzdC5mb3JFYWNoKChmdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnJ1bldoZW4mJiExPT09ZS5ydW5XaGVuKHQpfHwobz1vJiZlLnN5bmNocm9ub3VzLG4udW5zaGlmdChlLmZ1bGZpbGxlZCxlLnJlamVjdGVkKSl9KSk7dmFyIHMsbD1bXTtpZih0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKChmdW5jdGlvbihlKXtsLnB1c2goZS5mdWxmaWxsZWQsZS5yZWplY3RlZCl9KSksIW8pe3ZhciBmPVtpLHZvaWQgMF07Zm9yKEFycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGYsbiksZj1mLmNvbmNhdChsKSxzPVByb21pc2UucmVzb2x2ZSh0KTtmLmxlbmd0aDspcz1zLnRoZW4oZi5zaGlmdCgpLGYuc2hpZnQoKSk7cmV0dXJuIHN9Zm9yKHZhciBkPXQ7bi5sZW5ndGg7KXt2YXIgcD1uLnNoaWZ0KCksaD1uLnNoaWZ0KCk7dHJ5e2Q9cChkKX1jYXRjaChlKXtoKGUpO2JyZWFrfX10cnl7cz1pKGQpfWNhdGNoKGUpe3JldHVybiBQcm9taXNlLnJlamVjdChlKX1mb3IoO2wubGVuZ3RoOylzPXMudGhlbihsLnNoaWZ0KCksbC5zaGlmdCgpKTtyZXR1cm4gc30sbC5wcm90b3R5cGUuZ2V0VXJpPWZ1bmN0aW9uKGUpe3JldHVybiBlPWEodGhpcy5kZWZhdWx0cyxlKSxvKGUudXJsLGUucGFyYW1zLGUucGFyYW1zU2VyaWFsaXplcikucmVwbGFjZSgvXlxcPy8sXCJcIil9LG4uZm9yRWFjaChbXCJkZWxldGVcIixcImdldFwiLFwiaGVhZFwiLFwib3B0aW9uc1wiXSwoZnVuY3Rpb24oZSl7bC5wcm90b3R5cGVbZV09ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KGEocnx8e30se21ldGhvZDplLHVybDp0LGRhdGE6KHJ8fHt9KS5kYXRhfSkpfX0pKSxuLmZvckVhY2goW1wicG9zdFwiLFwicHV0XCIsXCJwYXRjaFwiXSwoZnVuY3Rpb24oZSl7bC5wcm90b3R5cGVbZV09ZnVuY3Rpb24odCxyLG4pe3JldHVybiB0aGlzLnJlcXVlc3QoYShufHx7fSx7bWV0aG9kOmUsdXJsOnQsZGF0YTpyfSkpfX0pKSxlLmV4cG9ydHM9bH0sNTgyOihlLHQscik9Pnt2YXIgbj1yKDQ0Nik7ZnVuY3Rpb24gbygpe3RoaXMuaGFuZGxlcnM9W119by5wcm90b3R5cGUudXNlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5oYW5kbGVycy5wdXNoKHtmdWxmaWxsZWQ6ZSxyZWplY3RlZDp0LHN5bmNocm9ub3VzOiEhciYmci5zeW5jaHJvbm91cyxydW5XaGVuOnI/ci5ydW5XaGVuOm51bGx9KSx0aGlzLmhhbmRsZXJzLmxlbmd0aC0xfSxvLnByb3RvdHlwZS5lamVjdD1mdW5jdGlvbihlKXt0aGlzLmhhbmRsZXJzW2VdJiYodGhpcy5oYW5kbGVyc1tlXT1udWxsKX0sby5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlKXtuLmZvckVhY2godGhpcy5oYW5kbGVycywoZnVuY3Rpb24odCl7bnVsbCE9PXQmJmUodCl9KSl9LGUuZXhwb3J0cz1vfSw2MzooZSx0LHIpPT57dmFyIG49cig0NTIpLG89cigxMjMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBlJiYhbih0KT9vKGUsdCk6dH19LDk4ODooZSx0LHIpPT57dmFyIG49cig0NzcpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscixvLHMpe3ZhciBpPW5ldyBFcnJvcihlKTtyZXR1cm4gbihpLHQscixvLHMpfX0sODYyOihlLHQscik9Pnt2YXIgbj1yKDQ0Niksbz1yKDI1NSkscz1yKDE4MSksaT1yKDI0MiksYT1yKDE0KTtmdW5jdGlvbiBjKGUpe2lmKGUuY2FuY2VsVG9rZW4mJmUuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpLGUuc2lnbmFsJiZlLnNpZ25hbC5hYm9ydGVkKXRocm93IG5ldyBhKFwiY2FuY2VsZWRcIil9ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBjKGUpLGUuaGVhZGVycz1lLmhlYWRlcnN8fHt9LGUuZGF0YT1vLmNhbGwoZSxlLmRhdGEsZS5oZWFkZXJzLGUudHJhbnNmb3JtUmVxdWVzdCksZS5oZWFkZXJzPW4ubWVyZ2UoZS5oZWFkZXJzLmNvbW1vbnx8e30sZS5oZWFkZXJzW2UubWV0aG9kXXx8e30sZS5oZWFkZXJzKSxuLmZvckVhY2goW1wiZGVsZXRlXCIsXCJnZXRcIixcImhlYWRcIixcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIixcImNvbW1vblwiXSwoZnVuY3Rpb24odCl7ZGVsZXRlIGUuaGVhZGVyc1t0XX0pKSwoZS5hZGFwdGVyfHxpLmFkYXB0ZXIpKGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBjKGUpLHQuZGF0YT1vLmNhbGwoZSx0LmRhdGEsdC5oZWFkZXJzLGUudHJhbnNmb3JtUmVzcG9uc2UpLHR9KSwoZnVuY3Rpb24odCl7cmV0dXJuIHModCl8fChjKGUpLHQmJnQucmVzcG9uc2UmJih0LnJlc3BvbnNlLmRhdGE9by5jYWxsKGUsdC5yZXNwb25zZS5kYXRhLHQucmVzcG9uc2UuaGVhZGVycyxlLnRyYW5zZm9ybVJlc3BvbnNlKSkpLFByb21pc2UucmVqZWN0KHQpfSkpfX0sNDc3OmU9PntlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbixvKXtyZXR1cm4gZS5jb25maWc9dCxyJiYoZS5jb2RlPXIpLGUucmVxdWVzdD1uLGUucmVzcG9uc2U9byxlLmlzQXhpb3NFcnJvcj0hMCxlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnttZXNzYWdlOnRoaXMubWVzc2FnZSxuYW1lOnRoaXMubmFtZSxkZXNjcmlwdGlvbjp0aGlzLmRlc2NyaXB0aW9uLG51bWJlcjp0aGlzLm51bWJlcixmaWxlTmFtZTp0aGlzLmZpbGVOYW1lLGxpbmVOdW1iZXI6dGhpcy5saW5lTnVtYmVyLGNvbHVtbk51bWJlcjp0aGlzLmNvbHVtbk51bWJlcixzdGFjazp0aGlzLnN0YWNrLGNvbmZpZzp0aGlzLmNvbmZpZyxjb2RlOnRoaXMuY29kZSxzdGF0dXM6dGhpcy5yZXNwb25zZSYmdGhpcy5yZXNwb25zZS5zdGF0dXM/dGhpcy5yZXNwb25zZS5zdGF0dXM6bnVsbH19LGV9fSwxNDk6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt0PXR8fHt9O3ZhciByPXt9O2Z1bmN0aW9uIG8oZSx0KXtyZXR1cm4gbi5pc1BsYWluT2JqZWN0KGUpJiZuLmlzUGxhaW5PYmplY3QodCk/bi5tZXJnZShlLHQpOm4uaXNQbGFpbk9iamVjdCh0KT9uLm1lcmdlKHt9LHQpOm4uaXNBcnJheSh0KT90LnNsaWNlKCk6dH1mdW5jdGlvbiBzKHIpe3JldHVybiBuLmlzVW5kZWZpbmVkKHRbcl0pP24uaXNVbmRlZmluZWQoZVtyXSk/dm9pZCAwOm8odm9pZCAwLGVbcl0pOm8oZVtyXSx0W3JdKX1mdW5jdGlvbiBpKGUpe2lmKCFuLmlzVW5kZWZpbmVkKHRbZV0pKXJldHVybiBvKHZvaWQgMCx0W2VdKX1mdW5jdGlvbiBhKHIpe3JldHVybiBuLmlzVW5kZWZpbmVkKHRbcl0pP24uaXNVbmRlZmluZWQoZVtyXSk/dm9pZCAwOm8odm9pZCAwLGVbcl0pOm8odm9pZCAwLHRbcl0pfWZ1bmN0aW9uIGMocil7cmV0dXJuIHIgaW4gdD9vKGVbcl0sdFtyXSk6ciBpbiBlP28odm9pZCAwLGVbcl0pOnZvaWQgMH12YXIgdT17dXJsOmksbWV0aG9kOmksZGF0YTppLGJhc2VVUkw6YSx0cmFuc2Zvcm1SZXF1ZXN0OmEsdHJhbnNmb3JtUmVzcG9uc2U6YSxwYXJhbXNTZXJpYWxpemVyOmEsdGltZW91dDphLHRpbWVvdXRNZXNzYWdlOmEsd2l0aENyZWRlbnRpYWxzOmEsYWRhcHRlcjphLHJlc3BvbnNlVHlwZTphLHhzcmZDb29raWVOYW1lOmEseHNyZkhlYWRlck5hbWU6YSxvblVwbG9hZFByb2dyZXNzOmEsb25Eb3dubG9hZFByb2dyZXNzOmEsZGVjb21wcmVzczphLG1heENvbnRlbnRMZW5ndGg6YSxtYXhCb2R5TGVuZ3RoOmEsdHJhbnNwb3J0OmEsaHR0cEFnZW50OmEsaHR0cHNBZ2VudDphLGNhbmNlbFRva2VuOmEsc29ja2V0UGF0aDphLHJlc3BvbnNlRW5jb2Rpbmc6YSx2YWxpZGF0ZVN0YXR1czpjfTtyZXR1cm4gbi5mb3JFYWNoKE9iamVjdC5rZXlzKGUpLmNvbmNhdChPYmplY3Qua2V5cyh0KSksKGZ1bmN0aW9uKGUpe3ZhciB0PXVbZV18fHMsbz10KGUpO24uaXNVbmRlZmluZWQobykmJnQhPT1jfHwocltlXT1vKX0pKSxyfX0sMzIyOihlLHQscik9Pnt2YXIgbj1yKDk4OCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz1yLmNvbmZpZy52YWxpZGF0ZVN0YXR1cztyLnN0YXR1cyYmbyYmIW8oci5zdGF0dXMpP3QobihcIlJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgXCIrci5zdGF0dXMsci5jb25maWcsbnVsbCxyLnJlcXVlc3QscikpOmUocil9fSwyNTU6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KSxvPXIoMjQyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBzPXRoaXN8fG87cmV0dXJuIG4uZm9yRWFjaChyLChmdW5jdGlvbihyKXtlPXIuY2FsbChzLGUsdCl9KSksZX19LDI0MjooZSx0LHIpPT57dmFyIG49cig0NDYpLG89cig5NjQpLHM9cig0NzcpLGk9e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn07ZnVuY3Rpb24gYShlLHQpeyFuLmlzVW5kZWZpbmVkKGUpJiZuLmlzVW5kZWZpbmVkKGVbXCJDb250ZW50LVR5cGVcIl0pJiYoZVtcIkNvbnRlbnQtVHlwZVwiXT10KX12YXIgYyx1PXt0cmFuc2l0aW9uYWw6e3NpbGVudEpTT05QYXJzaW5nOiEwLGZvcmNlZEpTT05QYXJzaW5nOiEwLGNsYXJpZnlUaW1lb3V0RXJyb3I6ITF9LGFkYXB0ZXI6KChcInVuZGVmaW5lZFwiIT10eXBlb2YgWE1MSHR0cFJlcXVlc3R8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBwcm9jZXNzJiZcIltvYmplY3QgcHJvY2Vzc11cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwcm9jZXNzKSkmJihjPXIoOTk0KSksYyksdHJhbnNmb3JtUmVxdWVzdDpbZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyh0LFwiQWNjZXB0XCIpLG8odCxcIkNvbnRlbnQtVHlwZVwiKSxuLmlzRm9ybURhdGEoZSl8fG4uaXNBcnJheUJ1ZmZlcihlKXx8bi5pc0J1ZmZlcihlKXx8bi5pc1N0cmVhbShlKXx8bi5pc0ZpbGUoZSl8fG4uaXNCbG9iKGUpP2U6bi5pc0FycmF5QnVmZmVyVmlldyhlKT9lLmJ1ZmZlcjpuLmlzVVJMU2VhcmNoUGFyYW1zKGUpPyhhKHQsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOFwiKSxlLnRvU3RyaW5nKCkpOm4uaXNPYmplY3QoZSl8fHQmJlwiYXBwbGljYXRpb24vanNvblwiPT09dFtcIkNvbnRlbnQtVHlwZVwiXT8oYSh0LFwiYXBwbGljYXRpb24vanNvblwiKSxmdW5jdGlvbihlLHQscil7aWYobi5pc1N0cmluZyhlKSl0cnl7cmV0dXJuKDAsSlNPTi5wYXJzZSkoZSksbi50cmltKGUpfWNhdGNoKGUpe2lmKFwiU3ludGF4RXJyb3JcIiE9PWUubmFtZSl0aHJvdyBlfXJldHVybigwLEpTT04uc3RyaW5naWZ5KShlKX0oZSkpOmV9XSx0cmFuc2Zvcm1SZXNwb25zZTpbZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50cmFuc2l0aW9uYWx8fHUudHJhbnNpdGlvbmFsLHI9dCYmdC5zaWxlbnRKU09OUGFyc2luZyxvPXQmJnQuZm9yY2VkSlNPTlBhcnNpbmcsaT0hciYmXCJqc29uXCI9PT10aGlzLnJlc3BvbnNlVHlwZTtpZihpfHxvJiZuLmlzU3RyaW5nKGUpJiZlLmxlbmd0aCl0cnl7cmV0dXJuIEpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7aWYoaSl7aWYoXCJTeW50YXhFcnJvclwiPT09ZS5uYW1lKXRocm93IHMoZSx0aGlzLFwiRV9KU09OX1BBUlNFXCIpO3Rocm93IGV9fXJldHVybiBlfV0sdGltZW91dDowLHhzcmZDb29raWVOYW1lOlwiWFNSRi1UT0tFTlwiLHhzcmZIZWFkZXJOYW1lOlwiWC1YU1JGLVRPS0VOXCIsbWF4Q29udGVudExlbmd0aDotMSxtYXhCb2R5TGVuZ3RoOi0xLHZhbGlkYXRlU3RhdHVzOmZ1bmN0aW9uKGUpe3JldHVybiBlPj0yMDAmJmU8MzAwfSxoZWFkZXJzOntjb21tb246e0FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKlwifX19O24uZm9yRWFjaChbXCJkZWxldGVcIixcImdldFwiLFwiaGVhZFwiXSwoZnVuY3Rpb24oZSl7dS5oZWFkZXJzW2VdPXt9fSkpLG4uZm9yRWFjaChbXCJwb3N0XCIsXCJwdXRcIixcInBhdGNoXCJdLChmdW5jdGlvbihlKXt1LmhlYWRlcnNbZV09bi5tZXJnZShpKX0pKSxlLmV4cG9ydHM9dX0sNDc0OmU9PntlLmV4cG9ydHM9e3ZlcnNpb246XCIwLjI2LjBcIn19LDk2MjplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciByPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSxuPTA7bjxyLmxlbmd0aDtuKyspcltuXT1hcmd1bWVudHNbbl07cmV0dXJuIGUuYXBwbHkodCxyKX19fSw5ODI6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KTtmdW5jdGlvbiBvKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSkucmVwbGFjZSgvJTNBL2dpLFwiOlwiKS5yZXBsYWNlKC8lMjQvZyxcIiRcIikucmVwbGFjZSgvJTJDL2dpLFwiLFwiKS5yZXBsYWNlKC8lMjAvZyxcIitcIikucmVwbGFjZSgvJTVCL2dpLFwiW1wiKS5yZXBsYWNlKC8lNUQvZ2ksXCJdXCIpfWUuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYoIXQpcmV0dXJuIGU7dmFyIHM7aWYocilzPXIodCk7ZWxzZSBpZihuLmlzVVJMU2VhcmNoUGFyYW1zKHQpKXM9dC50b1N0cmluZygpO2Vsc2V7dmFyIGk9W107bi5mb3JFYWNoKHQsKGZ1bmN0aW9uKGUsdCl7bnVsbCE9ZSYmKG4uaXNBcnJheShlKT90Kz1cIltdXCI6ZT1bZV0sbi5mb3JFYWNoKGUsKGZ1bmN0aW9uKGUpe24uaXNEYXRlKGUpP2U9ZS50b0lTT1N0cmluZygpOm4uaXNPYmplY3QoZSkmJihlPUpTT04uc3RyaW5naWZ5KGUpKSxpLnB1c2gobyh0KStcIj1cIitvKGUpKX0pKSl9KSkscz1pLmpvaW4oXCImXCIpfWlmKHMpe3ZhciBhPWUuaW5kZXhPZihcIiNcIik7LTEhPT1hJiYoZT1lLnNsaWNlKDAsYSkpLGUrPSgtMT09PWUuaW5kZXhPZihcIj9cIik/XCI/XCI6XCImXCIpK3N9cmV0dXJuIGV9fSwxMjM6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiB0P2UucmVwbGFjZSgvXFwvKyQvLFwiXCIpK1wiL1wiK3QucmVwbGFjZSgvXlxcLysvLFwiXCIpOmV9fSw1ODooZSx0LHIpPT57dmFyIG49cig0NDYpO2UuZXhwb3J0cz1uLmlzU3RhbmRhcmRCcm93c2VyRW52KCk/e3dyaXRlOmZ1bmN0aW9uKGUsdCxyLG8scyxpKXt2YXIgYT1bXTthLnB1c2goZStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodCkpLG4uaXNOdW1iZXIocikmJmEucHVzaChcImV4cGlyZXM9XCIrbmV3IERhdGUocikudG9HTVRTdHJpbmcoKSksbi5pc1N0cmluZyhvKSYmYS5wdXNoKFwicGF0aD1cIitvKSxuLmlzU3RyaW5nKHMpJiZhLnB1c2goXCJkb21haW49XCIrcyksITA9PT1pJiZhLnB1c2goXCJzZWN1cmVcIiksZG9jdW1lbnQuY29va2llPWEuam9pbihcIjsgXCIpfSxyZWFkOmZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKFwiKF58O1xcXFxzKikoXCIrZStcIik9KFteO10qKVwiKSk7cmV0dXJuIHQ/ZGVjb2RlVVJJQ29tcG9uZW50KHRbM10pOm51bGx9LHJlbW92ZTpmdW5jdGlvbihlKXt0aGlzLndyaXRlKGUsXCJcIixEYXRlLm5vdygpLTg2NGU1KX19Ont3cml0ZTpmdW5jdGlvbigpe30scmVhZDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxyZW1vdmU6ZnVuY3Rpb24oKXt9fX0sNDUyOmU9PntlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuL14oW2Etel1bYS16XFxkK1xcLS5dKjopP1xcL1xcLy9pLnRlc3QoZSl9fSw3MjY6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uaXNPYmplY3QoZSkmJiEwPT09ZS5pc0F4aW9zRXJyb3J9fSw0OTc6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KTtlLmV4cG9ydHM9bi5pc1N0YW5kYXJkQnJvd3NlckVudigpP2Z1bmN0aW9uKCl7dmFyIGUsdD0vKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7ZnVuY3Rpb24gbyhlKXt2YXIgbj1lO3JldHVybiB0JiYoci5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsbiksbj1yLmhyZWYpLHIuc2V0QXR0cmlidXRlKFwiaHJlZlwiLG4pLHtocmVmOnIuaHJlZixwcm90b2NvbDpyLnByb3RvY29sP3IucHJvdG9jb2wucmVwbGFjZSgvOiQvLFwiXCIpOlwiXCIsaG9zdDpyLmhvc3Qsc2VhcmNoOnIuc2VhcmNoP3Iuc2VhcmNoLnJlcGxhY2UoL15cXD8vLFwiXCIpOlwiXCIsaGFzaDpyLmhhc2g/ci5oYXNoLnJlcGxhY2UoL14jLyxcIlwiKTpcIlwiLGhvc3RuYW1lOnIuaG9zdG5hbWUscG9ydDpyLnBvcnQscGF0aG5hbWU6XCIvXCI9PT1yLnBhdGhuYW1lLmNoYXJBdCgwKT9yLnBhdGhuYW1lOlwiL1wiK3IucGF0aG5hbWV9fXJldHVybiBlPW8od2luZG93LmxvY2F0aW9uLmhyZWYpLGZ1bmN0aW9uKHQpe3ZhciByPW4uaXNTdHJpbmcodCk/byh0KTp0O3JldHVybiByLnByb3RvY29sPT09ZS5wcm90b2NvbCYmci5ob3N0PT09ZS5ob3N0fX0oKTpmdW5jdGlvbigpe3JldHVybiEwfX0sOTY0OihlLHQscik9Pnt2YXIgbj1yKDQ0Nik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7bi5mb3JFYWNoKGUsKGZ1bmN0aW9uKHIsbil7biE9PXQmJm4udG9VcHBlckNhc2UoKT09PXQudG9VcHBlckNhc2UoKSYmKGVbdF09cixkZWxldGUgZVtuXSl9KSl9fSw1NDE6KGUsdCxyKT0+e3ZhciBuPXIoNDQ2KSxvPVtcImFnZVwiLFwiYXV0aG9yaXphdGlvblwiLFwiY29udGVudC1sZW5ndGhcIixcImNvbnRlbnQtdHlwZVwiLFwiZXRhZ1wiLFwiZXhwaXJlc1wiLFwiZnJvbVwiLFwiaG9zdFwiLFwiaWYtbW9kaWZpZWQtc2luY2VcIixcImlmLXVubW9kaWZpZWQtc2luY2VcIixcImxhc3QtbW9kaWZpZWRcIixcImxvY2F0aW9uXCIsXCJtYXgtZm9yd2FyZHNcIixcInByb3h5LWF1dGhvcml6YXRpb25cIixcInJlZmVyZXJcIixcInJldHJ5LWFmdGVyXCIsXCJ1c2VyLWFnZW50XCJdO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyLHMsaT17fTtyZXR1cm4gZT8obi5mb3JFYWNoKGUuc3BsaXQoXCJcXG5cIiksKGZ1bmN0aW9uKGUpe2lmKHM9ZS5pbmRleE9mKFwiOlwiKSx0PW4udHJpbShlLnN1YnN0cigwLHMpKS50b0xvd2VyQ2FzZSgpLHI9bi50cmltKGUuc3Vic3RyKHMrMSkpLHQpe2lmKGlbdF0mJm8uaW5kZXhPZih0KT49MClyZXR1cm47aVt0XT1cInNldC1jb29raWVcIj09PXQ/KGlbdF0/aVt0XTpbXSkuY29uY2F0KFtyXSk6aVt0XT9pW3RdK1wiLCBcIityOnJ9fSkpLGkpOml9fSw2NzplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseShudWxsLHQpfX19LDE2NjooZSx0LHIpPT57dmFyIG49cig0NzQpLnZlcnNpb24sbz17fTtbXCJvYmplY3RcIixcImJvb2xlYW5cIixcIm51bWJlclwiLFwiZnVuY3Rpb25cIixcInN0cmluZ1wiLFwic3ltYm9sXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7b1tlXT1mdW5jdGlvbihyKXtyZXR1cm4gdHlwZW9mIHI9PT1lfHxcImFcIisodDwxP1wibiBcIjpcIiBcIikrZX19KSk7dmFyIHM9e307by50cmFuc2l0aW9uYWw9ZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG8oZSx0KXtyZXR1cm5cIltBeGlvcyB2XCIrbitcIl0gVHJhbnNpdGlvbmFsIG9wdGlvbiAnXCIrZStcIidcIit0KyhyP1wiLiBcIityOlwiXCIpfXJldHVybiBmdW5jdGlvbihyLG4saSl7aWYoITE9PT1lKXRocm93IG5ldyBFcnJvcihvKG4sXCIgaGFzIGJlZW4gcmVtb3ZlZFwiKyh0P1wiIGluIFwiK3Q6XCJcIikpKTtyZXR1cm4gdCYmIXNbbl0mJihzW25dPSEwLGNvbnNvbGUud2FybihvKG4sXCIgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2XCIrdCtcIiBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZWFyIGZ1dHVyZVwiKSkpLCFlfHxlKHIsbixpKX19LGUuZXhwb3J0cz17YXNzZXJ0T3B0aW9uczpmdW5jdGlvbihlLHQscil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm9wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3RcIik7Zm9yKHZhciBuPU9iamVjdC5rZXlzKGUpLG89bi5sZW5ndGg7by0tID4wOyl7dmFyIHM9bltvXSxpPXRbc107aWYoaSl7dmFyIGE9ZVtzXSxjPXZvaWQgMD09PWF8fGkoYSxzLGUpO2lmKCEwIT09Yyl0aHJvdyBuZXcgVHlwZUVycm9yKFwib3B0aW9uIFwiK3MrXCIgbXVzdCBiZSBcIitjKX1lbHNlIGlmKCEwIT09cil0aHJvdyBFcnJvcihcIlVua25vd24gb3B0aW9uIFwiK3MpfX0sdmFsaWRhdG9yczpvfX0sNDQ2OihlLHQscik9Pnt2YXIgbj1yKDk2Miksbz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gdm9pZCAwPT09ZX1mdW5jdGlvbiBhKGUpe3JldHVyblwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PW8uY2FsbChlKX1mdW5jdGlvbiBjKGUpe3JldHVybiBudWxsIT09ZSYmXCJvYmplY3RcIj09dHlwZW9mIGV9ZnVuY3Rpb24gdShlKXtpZihcIltvYmplY3QgT2JqZWN0XVwiIT09by5jYWxsKGUpKXJldHVybiExO3ZhciB0PU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtyZXR1cm4gbnVsbD09PXR8fHQ9PT1PYmplY3QucHJvdG90eXBlfWZ1bmN0aW9uIGwoZSl7cmV0dXJuXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT09by5jYWxsKGUpfWZ1bmN0aW9uIGYoZSx0KXtpZihudWxsIT1lKWlmKFwib2JqZWN0XCIhPXR5cGVvZiBlJiYoZT1bZV0pLHMoZSkpZm9yKHZhciByPTAsbj1lLmxlbmd0aDtyPG47cisrKXQuY2FsbChudWxsLGVbcl0scixlKTtlbHNlIGZvcih2YXIgbyBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG8pJiZ0LmNhbGwobnVsbCxlW29dLG8sZSl9ZS5leHBvcnRzPXtpc0FycmF5OnMsaXNBcnJheUJ1ZmZlcjphLGlzQnVmZmVyOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT09ZSYmIWkoZSkmJm51bGwhPT1lLmNvbnN0cnVjdG9yJiYhaShlLmNvbnN0cnVjdG9yKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jb25zdHJ1Y3Rvci5pc0J1ZmZlciYmZS5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihlKX0saXNGb3JtRGF0YTpmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgRm9ybURhdGFdXCI9PT1vLmNhbGwoZSl9LGlzQXJyYXlCdWZmZXJWaWV3OmZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmQXJyYXlCdWZmZXIuaXNWaWV3P0FycmF5QnVmZmVyLmlzVmlldyhlKTplJiZlLmJ1ZmZlciYmYShlLmJ1ZmZlcil9LGlzU3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfSxpc051bWJlcjpmdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZX0saXNPYmplY3Q6Yyxpc1BsYWluT2JqZWN0OnUsaXNVbmRlZmluZWQ6aSxpc0RhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJbb2JqZWN0IERhdGVdXCI9PT1vLmNhbGwoZSl9LGlzRmlsZTpmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgRmlsZV1cIj09PW8uY2FsbChlKX0saXNCbG9iOmZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBCbG9iXVwiPT09by5jYWxsKGUpfSxpc0Z1bmN0aW9uOmwsaXNTdHJlYW06ZnVuY3Rpb24oZSl7cmV0dXJuIGMoZSkmJmwoZS5waXBlKX0saXNVUkxTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuXCJbb2JqZWN0IFVSTFNlYXJjaFBhcmFtc11cIj09PW8uY2FsbChlKX0saXNTdGFuZGFyZEJyb3dzZXJFbnY6ZnVuY3Rpb24oKXtyZXR1cm4oXCJ1bmRlZmluZWRcIj09dHlwZW9mIG5hdmlnYXRvcnx8XCJSZWFjdE5hdGl2ZVwiIT09bmF2aWdhdG9yLnByb2R1Y3QmJlwiTmF0aXZlU2NyaXB0XCIhPT1uYXZpZ2F0b3IucHJvZHVjdCYmXCJOU1wiIT09bmF2aWdhdG9yLnByb2R1Y3QpJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnR9LGZvckVhY2g6ZixtZXJnZTpmdW5jdGlvbiBlKCl7dmFyIHQ9e307ZnVuY3Rpb24gcihyLG4pe3UodFtuXSkmJnUocik/dFtuXT1lKHRbbl0scik6dShyKT90W25dPWUoe30scik6cyhyKT90W25dPXIuc2xpY2UoKTp0W25dPXJ9Zm9yKHZhciBuPTAsbz1hcmd1bWVudHMubGVuZ3RoO248bztuKyspZihhcmd1bWVudHNbbl0scik7cmV0dXJuIHR9LGV4dGVuZDpmdW5jdGlvbihlLHQscil7cmV0dXJuIGYodCwoZnVuY3Rpb24odCxvKXtlW29dPXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/bih0LHIpOnR9KSksZX0sdHJpbTpmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltP2UudHJpbSgpOmUucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKX0sc3RyaXBCT006ZnVuY3Rpb24oZSl7cmV0dXJuIDY1Mjc5PT09ZS5jaGFyQ29kZUF0KDApJiYoZT1lLnNsaWNlKDEpKSxlfX19fSx0PXt9O2Z1bmN0aW9uIHIobil7dmFyIG89dFtuXTtpZih2b2lkIDAhPT1vKXJldHVybiBvLmV4cG9ydHM7dmFyIHM9dFtuXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbbl0ocyxzLmV4cG9ydHMscikscy5leHBvcnRzfXIubj1lPT57dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlPygpPT5lLmRlZmF1bHQ6KCk9PmU7cmV0dXJuIHIuZCh0LHthOnR9KSx0fSxyLmQ9KGUsdCk9Pntmb3IodmFyIG4gaW4gdClyLm8odCxuKSYmIXIubyhlLG4pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHtlbnVtZXJhYmxlOiEwLGdldDp0W25dfSl9LHIubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCk7dmFyIG49e307KCgpPT57ci5kKG4se01TOigpPT5vLE1fOigpPT5zLGhZOigpPT5pLEc0OigpPT5hLF9XOigpPT5jLG86KCk9PnUsQzM6KCk9PmYsZkI6KCk9PmwsaWY6KCk9PmQsJGo6KCk9PlQsVSQ6KCk9PncsVTc6KCk9Pm0sQjU6KCk9PiR9KTt2YXIgZT1yKDQyMSksdD1yLm4oZSk7Y2xhc3MgbyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGU9XCJBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZFwiLHQpe3ZhciByO3N1cGVyKGUpLHQmJih0aGlzLmlubmVyRXJyb3I9dCYmdCksdGhpcy5zdGFjaz1udWxsPT09KHI9dGhpcy5zdGFjayl8fHZvaWQgMD09PXI/dm9pZCAwOnIucmVwbGFjZSgvXihcXHcqRXJyb3IpLyxgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCl9fWNsYXNzIHMgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGU9XCJVbmFibGUgdG8gYXV0aG9yaXplIGNvbm5lY3Rpb24gdG8gU2FsZXNmb3JjZVwiLHQpe3ZhciByLG4sbztzdXBlcihlLHQpLHQmJnQuaXNBeGlvc0Vycm9yJiYodC5tZXNzYWdlPW51bGwhPT0obz1udWxsPT09KG49bnVsbD09PShyPXQucmVzcG9uc2UpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmRhdGEpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmVycm9yX2Rlc2NyaXB0aW9uKSYmdm9pZCAwIT09bz9vOnQubWVzc2FnZSl9fWNsYXNzIGkgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGU9XCJOb3QgY29ubmVjdGVkIHRvIFNhbGVzZm9yY2VcIix0KXtzdXBlcihlLHQpfX1jbGFzcyBhIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihlPVwiUmV0cmlldmUgU2FsZXNmb3JjZSBvYmplY3QgZGF0YSBmYWlsZWRcIix0KXtzdXBlcihlLHQpfX1jbGFzcyBjIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihlPVwiSW52YWxpZCBwYXJhbWV0ZXIgZGV0ZWN0ZWRcIix0KXtzdXBlcihlLHQpfX1jbGFzcyB1IGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihlPVwiRXhlY3V0ZSBTYWxlc2ZvcmNlIHF1ZXJ5IGZhaWxlZFwiLHQpe3N1cGVyKGUsdCl9fWNsYXNzIGwgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGU9XCJVbmFibGUgdG8gcmV0cmlldmUgc2VhcmNoIHJlc3VsdHMgZnJvbSBTYWxlc2ZvcmNlXCIsdCl7c3VwZXIoZSx0KX19Y2xhc3MgZiBleHRlbmRzIG97Y29uc3RydWN0b3IoZSx0PVwiRXhlY3V0ZSBTYWxlc2ZvcmNlIFJFU1QgQVBJIHJlcXVlc3QgZmFpbGVkXCIpe3ZhciByLG4sbyxzLGk7c3VwZXIodCxudWxsIT1lP2U6dm9pZCAwKSx0aGlzLnJlc3RBcGlFcnJvckNvZGU9XCJcIix0aGlzLnJlc3RBcGlFcnJvckRlc2NyaXB0aW9uPVwiXCIsdGhpcy5yZXN0QXBpUmVzcG9uc2VTdGF0dXM9dm9pZCAwO2NvbnN0IGE9ZTtpZihudWxsPT1hP3ZvaWQgMDphLmlzQXhpb3NFcnJvcil7aWYodGhpcy5yZXN0QXBpUmVzcG9uc2VTdGF0dXM9bnVsbD09PShyPWEucmVzcG9uc2UpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnN0YXR1cywhKG51bGw9PT0obz1udWxsPT09KG49YS5yZXNwb25zZSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZGF0YSl8fHZvaWQgMD09PW8/dm9pZCAwOm8ubGVuZ3RoKSlyZXR1cm47Y29uc3QgZT1udWxsPT09KGk9bnVsbD09PShzPWEucmVzcG9uc2UpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmRhdGEpfHx2b2lkIDA9PT1pP3ZvaWQgMDppWzBdO2lmKGUpe2NvbnN0e2Vycm9yQ29kZTp0LG1lc3NhZ2U6cn09ZTt0aGlzLnJlc3RBcGlFcnJvckNvZGU9dCx0aGlzLnJlc3RBcGlFcnJvckRlc2NyaXB0aW9uPXJ9fX19Y2xhc3MgZCBleHRlbmRzIG97Y29uc3RydWN0b3IoZT1cIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWRcIix0KXtzdXBlcihlLHQpfX1sZXQgcD0hMTtjb25zdCBoPVwiW0BvcGVuZmluL3NhbGVzZm9yY2VdXCIsdz0oKT0+e3A9ITF9LG09KCk9PntwPSEwLGcoXCJ2Mi4xLjNcIil9LHY9ZT0+e2lmKHAmJihlLmlubmVyRXJyb3I/Y29uc29sZS5lcnJvcihoLGUsXCJcXG5cXG4oaW5uZXIpXCIsZS5pbm5lckVycm9yKTpjb25zb2xlLmVycm9yKGgsZSksZSBpbnN0YW5jZW9mIGYpKXtjb25zdHtyZXN0QXBpRXJyb3JDb2RlOnQscmVzdEFwaUVycm9yRGVzY3JpcHRpb246cn09ZTtpZihyKXtjb25zdCBlPXIucmVwbGFjZSgvXFxuL2csXCIgXCIpLnRyaW0oKSxuPXQ/YCR7dH06ICR7ZX1gOmU7Y29uc29sZS53YXJuKGgsbil9fX0sZz0oLi4uZSk9PntwJiZjb25zb2xlLmxvZyhoLC4uLmUpfSx5PSguLi5lKT0+e3AmJmNvbnNvbGUud2FybihoLC4uLmUpfTt3aW5kb3cuZmlufHxPYmplY3QuYXNzaWduKHdpbmRvdyx7ZmluOnt9fSksT2JqZWN0LmFzc2lnbih3aW5kb3cuZmluLHtJbnRlZ3JhdGlvbnM6e1NhbGVzZm9yY2U6e2VuYWJsZUxvZ2dpbmc6bSxkaXNhYmxlTG9nZ2luZzp3fX19KTtjb25zdCBiPVwiNTQuMFwiLHg9L3ZYWFxcLlgvaSxFPWU9PihBcnJheS5pc0FycmF5KGUpP2U6T2JqZWN0LmVudHJpZXMoZSkpLnJlZHVjZSgoKGUsdCk9Pntjb25zdCByPUFycmF5LmlzQXJyYXkoZSk/dDp0WzFdO2xldCBuO3N3aXRjaCghMCl7Y2FzZSBudWxsPT1yOm49cjticmVhaztjYXNlXCJzdHJpbmdcIj09dHlwZW9mIHI6bj1yLnJlcGxhY2UoeCxcInY1NC4wXCIpO2JyZWFrO2Nhc2UgQXJyYXkuaXNBcnJheShyKTpjYXNlXCJvYmplY3RcIj09dHlwZW9mIHI6bj1FKHIpO2JyZWFrO2RlZmF1bHQ6bj1yfXJldHVybiBBcnJheS5pc0FycmF5KGUpP2UucHVzaChuKTplW3RbMF1dPW4sZX0pLEFycmF5LmlzQXJyYXkoZSk/W106e30pLGs9XCJzYWxlc2ZvcmNlLWF1dGhcIixTPVwiaHR0cHM6Ly9sb2dpbi5zYWxlc2ZvcmNlLmNvbS9zZXJ2aWNlcy9vYXV0aDIvc3VjY2Vzc1wiLEE9KGUsdCxyKT0+e2UuYWNjZXNzVG9rZW4mJndpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShfKHQsciksZS5hY2Nlc3NUb2tlbiksZS5yZWZyZXNoVG9rZW4mJndpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShMKHQsciksZS5yZWZyZXNoVG9rZW4pfSxUPWFzeW5jKGUsdCxyPSExKT0+e2xldCBuO3RyeXtuPW5ldyBVUkwoZSkub3JpZ2lufWNhdGNoKGUpe3Rocm93IG5ldyBjKFwiSW52YWxpZCBTYWxlc2ZvcmNlIFVSTFwiKX1pZighL3NhbGVzZm9yY2UuY29tJC9pLnRlc3QobikpdGhyb3cgbmV3IGMoXCJJbnZhbGlkIFNhbGVzZm9yY2UgVVJMXCIpO2lmKHZvaWQgMD09PShudWxsIT10P3Q6dm9pZCAwKXx8XCJcIj09PXQudHJpbSgpKXRocm93IG5ldyBjKFwiQ29uc3VtZXIga2V5IG5vdCBwcm92aWRlZFwiKTtnKGBDb25uZWN0aW5nIHRvICR7bn0gdXNpbmcga2V5ICR7dH1gKTtjb25zdCBvPWF3YWl0ICQoZSx0KTtpZihvKXJldHVybiBvO2coXCJObyBleGlzdGluZyBjb25uZWN0aW9uIGZvdW5kLCBzdGFydGluZyBhdXRoIGZsb3dcIik7Y29uc3QgYT0oYXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0Q2hpbGRXaW5kb3dzKCkpLmZpbmQoKGU9PmUuaWRlbnRpdHkubmFtZT09PWspKTthJiZhd2FpdCBhLmNsb3NlKCEwKTtjb25zdCB1PXI/XCJodHRwczovL3Rlc3Quc2FsZXNmb3JjZS5jb21cIjpcImh0dHBzOi8vbG9naW4uc2FsZXNmb3JjZS5jb21cIixsPShuZXcgRGF0ZSkuZ2V0VGltZSgpLnRvU3RyaW5nKCksZj1qKCksZD1hd2FpdCBPKGYpLHA9YCR7dX0vc2VydmljZXMvb2F1dGgyL2F1dGhvcml6ZT9cXG4gICAgY2xpZW50X2lkPSR7dH0mXFxuICAgIHJlZGlyZWN0X3VyaT0ke1N9JlxcbiAgICByZXNwb25zZV90eXBlPWNvZGUmXFxuICAgIHNjb3BlPWFwaStyZWZyZXNoX3Rva2VuJlxcbiAgICBzdGF0ZT0ke2x9JlxcbiAgICBjb2RlX2NoYWxsZW5nZT0ke2R9JlxcbiAgICBkaXNwbGF5PXBvcHVwJlxcbiAgICBwcm9tcHQ9c2VsZWN0X2FjY291bnRcXG4gICAgYC5yZXBsYWNlKC9cXHMvZyxcIlwiKSxoPWF3YWl0IGZpbi5XaW5kb3cuY3JlYXRlKHthbHdheXNPblRvcDohMCxtYXhpbWl6YWJsZTohMSxtaW5pbWl6YWJsZTohMSxhdXRvU2hvdzohMSxkZWZhdWx0Q2VudGVyZWQ6ITAsZGVmYXVsdEhlaWdodDo3MDAsZGVmYXVsdFdpZHRoOjYwMCxpbmNsdWRlSW5TbmFwc2hvdHM6ITEsbmFtZTprLHJlc2l6YWJsZTohMSxzYXZlV2luZG93U3RhdGU6ITEsc2hvd1Rhc2tiYXJJY29uOiExLHVybDpwfSksdz1hd2FpdCBuZXcgUHJvbWlzZSgoKGUsdCk9PntsZXQgcjtjb25zdCBuPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e3dpbmRvdy5jbGVhckludGVydmFsKHIpLHdpbmRvdy5jbGVhclRpbWVvdXQobiksaC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSxoLmNsb3NlKCEwKTtjb25zdCBlPW5ldyBzKFwiQXV0aG9yaXphdGlvbiB0aW1lZCBvdXRcIik7dihlKSx0KGUpfSksM2U1KTtoLmFkZExpc3RlbmVyKFwiY2xvc2luZ1wiLChhc3luYygpPT57ZyhcIlVzZXIgY2xvc2VkIGF1dGggd2luZG93XCIpLHdpbmRvdy5jbGVhckludGVydmFsKHIpLHdpbmRvdy5jbGVhclRpbWVvdXQobiksaC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtjb25zdCBlPW5ldyBzKFwiRmFpbGVkIHRvIGNvbXBsZXRlIGF1dGhvcml6YXRpb25cIik7dihlKSx0KGUpfSkpLHI9d2luZG93LnNldEludGVydmFsKCgoKT0+KGFzeW5jKGUsdCxyLG4sbyxpKT0+e2xldCBhO3RyeXthPWF3YWl0IGUuZ2V0SW5mbygpfWNhdGNoKGUpe3dpbmRvdy5jbGVhckludGVydmFsKHQpLHdpbmRvdy5jbGVhclRpbWVvdXQocik7Y29uc3Qgbj1uZXcgcyhcIkNvdWxkIG5vdCBsb2NhdGUgb2F1dGggZmxvdyB3aW5kb3dcIik7cmV0dXJuIHYobiksaShuKX1jb25zdCBjPW5ldyBVUkwoYS51cmwpO2lmKDA9PT1uZXcgVVJMKGEudXJsKS5ocmVmLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihTLnRvTG93ZXJDYXNlKCkpKXtpZih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0KSx3aW5kb3cuY2xlYXJUaW1lb3V0KHIpLGUucmVtb3ZlQWxsTGlzdGVuZXJzKCksZS5jbG9zZSghMCksYy5zZWFyY2hQYXJhbXMuZ2V0KFwic3RhdGVcIikhPT1uKXtjb25zdCBlPW5ldyBzKFwiU3RhdGUgbWlzbWF0Y2hcIik7cmV0dXJuIHYoZSksaShlKX1jb25zdCBhPWMuc2VhcmNoUGFyYW1zLmdldChcImNvZGVcIik7aWYoIWEpe2NvbnN0IGU9bmV3IHMoXCJBdXRob3JpemF0aW9uIGNvZGUgbWlzc2luZ1wiKTtyZXR1cm4gdihlKSxpKGUpfXJldHVybiBnKFwiQXV0aG9yaXphdGlvbiBjb2RlIHJlY2VpdmVkXCIpLG8oYSl9Y29uc3QgdT1hd2FpdCBlLmV4ZWN1dGVKYXZhU2NyaXB0KFwid2luZG93LmRvY3VtZW50LmJvZHkuaW5uZXJUZXh0XCIpLGw9bmV3IFVSTFNlYXJjaFBhcmFtcyh1KS5nZXQoXCJlcnJvcl9kZXNjcmlwdGlvblwiKTtpZihsKXt3aW5kb3cuY2xlYXJJbnRlcnZhbCh0KSx3aW5kb3cuY2xlYXJUaW1lb3V0KHIpLGUucmVtb3ZlQWxsTGlzdGVuZXJzKCksZS5jbG9zZSghMCk7Y29uc3Qgbj1sWzBdLnRvVXBwZXJDYXNlKCkrbC5zbGljZSgxKSxvPW5ldyBzKG4pO3YobyksaShvKX1lbHNlIGF3YWl0IGUuaXNTaG93aW5nKCl8fChnKFwiU2hvd2luZyBhdXRoIHdpbmRvd1wiKSxhd2FpdCBlLnNob3coITApLGF3YWl0IGUuZm9jdXMoKSl9KShoLHIsbixsLGUsdCkpLDUwMCl9KSksbT1hd2FpdCBSKHcsZixuLHQpO2lmKGcoXCJDaGVja2luZyBjb25uZWN0aW9uIHdpdGggbmV3IGFjY2VzcyB0b2tlblwiKSwhYXdhaXQgRChtLmFjY2Vzc1Rva2VuLG4pKXtjb25zdCBlPW5ldyBpKFwiSW52YWxpZCBTYWxlc2ZvcmNlIG9yZyBVUkwgb3IgYWNjZXNzIHRva2VuXCIpO3Rocm93IHYoZSksZX1yZXR1cm4gZyhcIkNvbm5lY3Rpb24gZXN0YWJsaXNoZWRcIiksQShtLG4sdCkse2NvbnN1bWVyS2V5OnQsZGlzY29ubmVjdDpDKG4sdCksZ2V0QXV0aFRva2VuczooKT0+VShuLHQpLG9yZ1VybDpuLGV4ZWN1dGVBcGlSZXF1ZXN0OlAobix0KX19LEM9KGUscik9PmFzeW5jKCk9PntnKFwiRGlzY29ubmVjdGluZyBmcm9tIFNhbGVzZm9yY2VcIik7bGV0IG49d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKEwoZSxyKSk7aWYobilnKFwiUmV2b2tpbmcgcmVmcmVzaCB0b2tlblwiKTtlbHNle2lmKG49d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKF8oZSxyKSksIW4pcmV0dXJuIHZvaWQgZyhcIk5vIHRva2VucyBmb3VuZCBpbiBzdG9yYWdlXCIpO2coXCJSZXZva2luZyBhY2Nlc3MgdG9rZW5cIil9dHJ5e2F3YWl0IHQoKS5nZXQoYCR7ZX0vc2VydmljZXMvb2F1dGgyL3Jldm9rZT90b2tlbj0ke259YCl9Y2F0Y2goZSl7eShcIkZhaWxlZCB0byByZXZva2UgdG9rZW5zXCIsbnVsbD09ZT92b2lkIDA6ZS5tZXNzYWdlKX1CKGUscil9LFI9YXN5bmMoZSxyLG4sbyk9PntnKFwiRXhjaGFuZ2luZyBhdXRoIGNvZGUgZm9yIHRva2Vuc1wiKTtjb25zdCBpPWAke259L3NlcnZpY2VzL29hdXRoMi90b2tlbmAsYT1gXFxuICAgIGdyYW50X3R5cGU9YXV0aG9yaXphdGlvbl9jb2RlJlxcbiAgICBjbGllbnRfaWQ9JHtvfSZcXG4gICAgY29kZT0ke2V9JlxcbiAgICBjb2RlX3ZlcmlmaWVyPSR7cn0mXFxuICAgIHJlZGlyZWN0X3VyaT0ke1N9XFxuICAgIGAucmVwbGFjZSgvXFxzL2csXCJcIik7bGV0IGM7dHJ5e2M9KGF3YWl0IHQoKS5wb3N0KGksYSx7aGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwifX0pKS5kYXRhfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IHMoXCJGYWlsZWQgdG8gZXhjaGFuZ2UgYXV0aG9yaXphdGlvbiBjb2RlIGZvciBhdXRoIHRva2Vuc1wiLGUpO3Rocm93IHYodCksdH1jb25zdHthY2Nlc3NfdG9rZW46dSxyZWZyZXNoX3Rva2VuOmx9PWM7aWYoIXV8fCFsKXRocm93IG5ldyBzKFwiTWlzc2luZyBhY2Nlc3MgdG9rZW4gb3IgcmVmcmVzaCB0b2tlbiBkdXJpbmcgY29kZSBleGNoYW5nZVwiKTtyZXR1cm4gZyhcIlRva2VucyByZWNlaXZlZFwiKSx7YWNjZXNzVG9rZW46dSxyZWZyZXNoVG9rZW46bH19LE89YXN5bmMgZT0+e2NvbnN0IHQ9KG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpLHI9YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTI1NlwiLHQpO3JldHVybiBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KHIpKSkpLnJlcGxhY2UoL1xcKy9nLFwiLVwiKS5yZXBsYWNlKC9cXC8vZyxcIl9cIikucmVwbGFjZSgvPStcXCQvLFwiXCIpfSxqPSgpPT57Y29uc3QgZT1uZXcgVWludDMyQXJyYXkoNjQpO3JldHVybiB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhlKSxBcnJheS5mcm9tKGUsKGU9PmAwJHtlLnRvU3RyaW5nKDE2KX1gLnN1YnN0cigtMikpKS5qb2luKFwiXCIpfSxfPShlLHQpPT5gYWNjZXNzLXRva2VuXyNfJHtuZXcgVVJMKGUpLmhvc3RuYW1lfV8jXyR7dH1gLFU9KGUsdCk9Pih7YWNjZXNzVG9rZW46d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKF8oZSx0KSkscmVmcmVzaFRva2VuOndpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShMKGUsdCkpfSksJD1hc3luYyhlLHQpPT57bGV0IHI7aWYoZyhcIkNoZWNraW5nIGZvciBleGlzdGluZyBjb25uZWN0aW9uXCIpLCFlfHwhdClyZXR1cm4gbnVsbDt0cnl7cj1uZXcgVVJMKGUpLm9yaWdpbn1jYXRjaChlKXtyZXR1cm4gbnVsbH1jb25zdHthY2Nlc3NUb2tlbjpufT1VKHIsdCk7aWYoIW4pcmV0dXJuIG51bGw7aWYoIWF3YWl0IEQobixyKSl0cnl7YXdhaXQgSShyLHQpfWNhdGNoKGUpe3JldHVybiBudWxsfXJldHVybiBnKGBDb25uZWN0aW9uIGV4aXN0cyB0byAke2V9YCkse2NvbnN1bWVyS2V5OnQsZGlzY29ubmVjdDpDKHIsdCksZ2V0QXV0aFRva2VuczooKT0+VShyLHQpLG9yZ1VybDpyLGV4ZWN1dGVBcGlSZXF1ZXN0OlAocix0KX19LFA9KGUscik9PmFzeW5jKG4sbyxzLGEsdSk9Pntjb25zdHthY2Nlc3NUb2tlbjpsfT1VKGUscik7aWYoIWwpe2NvbnN0IGU9bmV3IGk7dGhyb3cgdihlKSxlfWNvbnN0IGQ9cj0+KGFzeW5jKGUscixuLG89XCJHRVRcIixzPXt9LGk9e30sYT0hMCk9Pnt2YXIgdSxsO2lmKCFuKXRocm93IG5ldyBjKFwiQVBJIGVuZHBvaW50IG5vdCBwcm92aWRlZFwiKTtsZXQgZDtpZihuPShsPW4pLnN0YXJ0c1dpdGgoXCIvXCIpP2w6YC8ke2x9YCwvXlxcL3NlcnZpY2VzXFwvZGF0YVxcLy9pLnRlc3Qobikpe2NvbnN0IGU9bnVsbD09PSh1PS9cXC92KFxcd3syfVxcLlxcdylcXC8vLmV4ZWMobikpfHx2b2lkIDA9PT11P3ZvaWQgMDp1WzFdO2lmKCFlKXRocm93IG5ldyBmKG51bGwsXCJSRVNUIEFQSSB2ZXJzaW9uIG5vdCBzcGVjaWZpZWRcIik7eC50ZXN0KG4pP249bi5yZXBsYWNlKGUsYik6ZSE9PWImJnkoYFJlcXVlc3RlZCBSRVNUIEFQSSB2ZXJzaW9uICgke2V9KSBpcyBkaWZmZXJlbnQgdG8gdGhlIGN1cnJlbnQgc3VwcG9ydGVkIHZlcnNpb24gKDU0LjApLiBVc2luZyBhbiBBUEkgdmVyc2lvbiBvdGhlciB0aGFuIGN1cnJlbnQgc3VwcG9ydGVkIHZlcnNpb24gbWF5IGNhdXNlIGVycm9ycy5gKSxkPW5ldyBSZWdFeHAoXCIvc2VydmljZXMvZGF0YS92NTQuMC9jb21wb3NpdGVcIixcImlcIikudGVzdChuKT9FKHMpOnN9ZWxzZSBkPXM7ZyhgRXhlY3V0aW5nICR7by50b1VwcGVyQ2FzZSgpfSBBUEkgcmVxdWVzdCB0byAke259YCxkLGkpLGEmJk9iamVjdC5hc3NpZ24oaSx7QXV0aG9yaXphdGlvbjpgQmVhcmVyICR7cn1gfSk7dHJ5e2xldCByO3N3aXRjaChvLnRvVXBwZXJDYXNlKCkpe2Nhc2VcIkRFTEVURVwiOnI9YXdhaXQgdCgpLmRlbGV0ZShgJHtlfSR7bn1gLHtoZWFkZXJzOml9KTticmVhaztjYXNlXCJHRVRcIjpyPWF3YWl0IHQoKS5nZXQoYCR7ZX0ke259YCx7aGVhZGVyczppfSk7YnJlYWs7Y2FzZVwiSEVBRFwiOnI9YXdhaXQgdCgpLmhlYWQoYCR7ZX0ke259YCx7aGVhZGVyczppfSk7YnJlYWs7Y2FzZVwiUEFUQ0hcIjpyPWF3YWl0IHQoKS5wYXRjaChgJHtlfSR7bn1gLHMse2hlYWRlcnM6aX0pO2JyZWFrO2Nhc2VcIlBPU1RcIjpyPWF3YWl0IHQoKS5wb3N0KGAke2V9JHtufWAsZCx7aGVhZGVyczppfSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgZihudWxsLFwiSW52YWxpZCBIVFRQIG1ldGhvZFwiKX1yZXR1cm57ZGF0YTpyLmRhdGEsc3RhdHVzOnIuc3RhdHVzfX1jYXRjaChlKXtpZihlIGluc3RhbmNlb2YgZil0aHJvdyBlO3Rocm93IG5ldyBmKGUpfX0pKGUscixuLG8scyxhLHUpO2xldCBwO3RyeXtwPWF3YWl0IGQobCl9Y2F0Y2godCl7aWYoISh0IGluc3RhbmNlb2YgZikpdGhyb3cgdih0KSx0O3JldHVybiBhd2FpdCBOKHQsZSxyLGwsZCl9cmV0dXJuIHB9LEw9KGUsdCk9PmByZWZyZXNoLXRva2VuXyNfJHtuZXcgVVJMKGUpLmhvc3RuYW1lfV8jXyR7dH1gLE49YXN5bmMoZSx0LHIsbixvKT0+e2lmKHYoZSksYXdhaXQgcShlLHQsbikpdHJ5e2NvbnN0IGU9YXdhaXQgSSh0LHIpO3JldHVybiBnKFwiUmV0cnlpbmcgcmVxdWVzdFwiKSxhd2FpdCBvKGUuYWNjZXNzVG9rZW4pfWNhdGNoKGUpe3Rocm93IHYoZSksZX10aHJvdyBlfSxJPWFzeW5jKGUscik9Pnt2YXIgbixvO2NvbnN0e3JlZnJlc2hUb2tlbjpzfT1VKGUscik7aWYoIXMpdGhyb3cgQihlLHIpLG5ldyBpKFwiTm8gcmVmcmVzaCB0b2tlbiBhdmFpbGFibGVcIik7ZyhcIlJlZnJlc2hpbmcgYWNjZXNzIHRva2VuXCIpO2NvbnN0IGE9YCR7ZX0vc2VydmljZXMvb2F1dGgyL3Rva2VuYCxjPWBcXG4gICAgZ3JhbnRfdHlwZT1yZWZyZXNoX3Rva2VuJlxcbiAgICBjbGllbnRfaWQ9JHtyfSZcXG4gICAgcmVmcmVzaF90b2tlbj0ke3N9XFxuICAgIGAucmVwbGFjZSgvXFxzL2csXCJcIik7bGV0IHU7dHJ5e3U9KGF3YWl0IHQoKS5wb3N0KGEsYyx7aGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwifX0pKS5kYXRhfWNhdGNoKHQpe2NvbnN0IHM9bnVsbD09PShvPW51bGw9PT0obj10LnJlc3BvbnNlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5kYXRhKXx8dm9pZCAwPT09bz92b2lkIDA6by5lcnJvcl9kZXNjcmlwdGlvbixhPVwiRmFpbGVkIHRvIHJlZnJlc2ggYWNjZXNzIHRva2VuXCI7dGhyb3cgZyhzP2Ake2F9OiAke3N9YDphKSxCKGUsciksbmV3IGkoYSl9Y29uc3R7YWNjZXNzX3Rva2VuOmx9PXU7aWYoIWwpdGhyb3cgbmV3IGkoXCJNaXNzaW5nIGFjY2VzcyB0b2tlbiBhZnRlciByZWZyZXNoaW5nXCIpO2NvbnN0IGY9e2FjY2Vzc1Rva2VuOmwscmVmcmVzaFRva2VuOnN9O3JldHVybiBBKGYsZSxyKSxmfSxCPShlLHQpPT57d2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKF8oZSx0KSksd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKEwoZSx0KSl9LHE9YXN5bmMoZSx0LHIpPT57dmFyIG47cmV0dXJuKFwiTmV0d29yayBFcnJvclwiPT09KG51bGw9PT0obj1lLmlubmVyRXJyb3IpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLm1lc3NhZ2UpfHxcIk5ldHdvcmsgRXJyb3JcIj09PWUubWVzc2FnZSkmJiFhd2FpdCBEKHIsdCl9LEQ9YXN5bmMoZSxyKT0+e3RyeXthd2FpdCB0KCkuZ2V0KGAke3J9L3NlcnZpY2VzL29hdXRoMi91c2VyaW5mbz9vYXV0aF90b2tlbj0ke2V9YCl9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuITB9fSkoKTt2YXIgbz1uLk1TLHM9bi5NXyxpPW4uaFksYT1uLkc0LGM9bi5fVyx1PW4ubyxsPW4uQzMsZj1uLmZCLGQ9bi5pZixwPW4uJGosaD1uLlUkLHc9bi5VNyxtPW4uQjU7ZXhwb3J0e28gYXMgQXBpRXJyb3IscyBhcyBBdXRob3JpemF0aW9uRXJyb3IsaSBhcyBDb25uZWN0aW9uRXJyb3IsYSBhcyBPYmplY3REYXRhRXJyb3IsYyBhcyBQYXJhbWV0ZXJFcnJvcix1IGFzIFF1ZXJ5RXJyb3IsbCBhcyBSZXN0QXBpRXJyb3IsZiBhcyBTZWFyY2hFcnJvcixkIGFzIFdvcmtzcGFjZUVycm9yLHAgYXMgY29ubmVjdCxoIGFzIGRpc2FibGVMb2dnaW5nLHcgYXMgZW5hYmxlTG9nZ2luZyxtIGFzIGdldENvbm5lY3Rpb259OyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHtcbiAgY29ubmVjdCxcbiAgQ29ubmVjdGlvbkVycm9yLFxuICBlbmFibGVMb2dnaW5nLFxuICBTYWxlc2ZvcmNlQ29ubmVjdGlvbixcbiAgU2FsZXNmb3JjZVJlc3RBcGlTZWFyY2hSZXNwb25zZSxcbiAgU2FsZXNmb3JjZVJlc3RBcGlTT2JqZWN0LFxufSBmcm9tIFwiQG9wZW5maW4vc2FsZXNmb3JjZVwiO1xuaW1wb3J0IHR5cGUge1xuICBBY3Rpb24sXG4gIENMSURpc3BhdGNoZWRTZWFyY2hSZXN1bHQsXG4gIENMSUZpbHRlcixcbiAgQ0xJU2VhcmNoTGlzdGVuZXJSZXNwb25zZSxcbiAgQ0xJU2VhcmNoUmVzdWx0Q29udGFjdCxcbiAgQ0xJU2VhcmNoUmVzdWx0TGlzdCxcbiAgQ0xJU2VhcmNoUmVzdWx0UGxhaW4sXG4gIENMSVNlYXJjaFJlc3VsdFNpbXBsZVRleHQsXG4gIEhvbWVTZWFyY2hSZXNwb25zZSxcbiAgSG9tZVNlYXJjaFJlc3VsdCxcbn0gZnJvbSBcIkBvcGVuZmluL3dvcmtzcGFjZVwiO1xuaW1wb3J0IHR5cGUgeyBJbnRlZ3JhdGlvbiwgSW50ZWdyYXRpb25NYW5hZ2VyIH0gZnJvbSBcIi4uL3NoYXBlc1wiO1xuXG5jb25zdCBCUk9XU0VfU0VBUkNIX1JFU1VMVF9LRVkgPSBcImJyb3dzZS1zYWxlc2ZvcmNlXCI7XG5jb25zdCBPQkpFQ1RTX0ZJTFRFUl9JRCA9IFwic2FsZXNmb3JjZS1vYmplY3RzXCI7XG5jb25zdCBOT1RfQ09OTkVDVEVEX1NFQVJDSF9SRVNVTFRfS0VZID0gXCJzYWxlc2ZvcmNlLW5vdC1jb25uZWN0ZWQtcmVzdWx0XCI7XG5cbmxldCBzYWxlc0ZvcmNlQ29ubmVjdGlvbjogU2FsZXNmb3JjZUNvbm5lY3Rpb247XG5cbmV4cG9ydCBjb25zdCBwcm92aWRlcklkID0gXCJzYWxlc2ZvcmNlXCI7XG5cbmV4cG9ydCB0eXBlIFNhbGVzZm9yY2VCYXRjaFJlcXVlc3QgPSB7XG4gIGJhdGNoUmVxdWVzdHM6IFNhbGVzZm9yY2VCYXRjaFJlcXVlc3RJdGVtW107XG4gIGhhbHRPbkVycm9yOiBib29sZWFuO1xufTtcblxuZXhwb3J0IHR5cGUgU2FsZXNmb3JjZUJhdGNoUmVxdWVzdEl0ZW0gPSB7XG4gIG1ldGhvZDogc3RyaW5nO1xuICB1cmw6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIFNhbGVzZm9yY2VCYXRjaFJlc3BvbnNlID0ge1xuICBoYXNFcnJvcnM6IGJvb2xlYW47XG4gIHJlc3VsdHM6IFNhbGVzZm9yY2VCYXRjaFJlc3BvbnNlSXRlbVtdO1xufTtcblxuZXhwb3J0IHR5cGUgU2FsZXNmb3JjZUJhdGNoUmVzcG9uc2VJdGVtID0ge1xuICBzdGF0dXNDb2RlOiBudW1iZXI7XG4gIHJlc3VsdDogdW5rbm93bjtcbn07XG5cbmV4cG9ydCB0eXBlIFNhbGVzZm9yY2VBY2NvdW50ID0gU2FsZXNmb3JjZVJlc3RBcGlTT2JqZWN0PHtcbiAgSW5kdXN0cnk/OiBzdHJpbmc7XG4gIE5hbWU6IHN0cmluZztcbiAgUGhvbmU/OiBzdHJpbmc7XG4gIFR5cGU/OiBzdHJpbmc7XG4gIFdlYnNpdGU/OiBzdHJpbmc7XG59PjtcblxuZXhwb3J0IHR5cGUgU2FsZXNmb3JjZUNvbnRhY3QgPSBTYWxlc2ZvcmNlUmVzdEFwaVNPYmplY3Q8e1xuICBEZXBhcnRtZW50Pzogc3RyaW5nO1xuICBFbWFpbDogc3RyaW5nO1xuICBOYW1lOiBzdHJpbmc7XG4gIFBob25lPzogc3RyaW5nO1xuICBUaXRsZT86IHN0cmluZztcbn0+O1xuXG5leHBvcnQgdHlwZSBTYWxlc2ZvcmNlVGFzayA9IFNhbGVzZm9yY2VSZXN0QXBpU09iamVjdDx7XG4gIFN1YmplY3Q/OiBzdHJpbmc7XG4gIERlc2NyaXB0aW9uPzogc3RyaW5nO1xufT47XG5cbmV4cG9ydCB0eXBlIFNhbGVzZm9yY2VDb250ZW50Tm90ZSA9IFNhbGVzZm9yY2VSZXN0QXBpU09iamVjdDx7XG4gIFRpdGxlPzogc3RyaW5nO1xuICBUZXh0UHJldmlldz86IHN0cmluZztcbn0+O1xuXG5leHBvcnQgdHlwZSBTYWxlc2ZvcmNlQWN0b3IgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIHVybDogc3RyaW5nO1xuICB0eXBlOiBzdHJpbmc7XG4gIGNvbXBhbnlOYW1lOiBzdHJpbmc7XG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIFNhbGVzZm9yY2VUZXh0QXJlYSA9IHtcbiAgaXNSaWNoVGV4dDogYm9vbGVhbjtcbiAgdGV4dDogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgU2FsZXNmb3JjZUZlZWRJdGVtID0ge1xuICBpZDogc3RyaW5nO1xuICB1cmw6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xuICBhY3Rvcj86IFNhbGVzZm9yY2VBY3RvcjtcbiAgYm9keT86IFNhbGVzZm9yY2VUZXh0QXJlYTtcbiAgaGVhZGVyPzogU2FsZXNmb3JjZVRleHRBcmVhO1xufTtcblxuZXhwb3J0IHR5cGUgU2FsZXNmb3JjZUZlZWRFbGVtZW50UGFnZSA9IHtcbiAgY3VycmVudFBhZ2VUb2tlbjogc3RyaW5nO1xuICBjdXJyZW50UGFnZVVybDogc3RyaW5nO1xuICBlbGVtZW50czogU2FsZXNmb3JjZUZlZWRJdGVtW107XG4gIGlzTW9kaWZpZWRUb2tlbjogc3RyaW5nO1xuICBpc01vZGlmaWVkVXJsOiBzdHJpbmc7XG4gIG5leHRQYWdlVXJsOiBzdHJpbmc7XG4gIHVwZGF0ZXNUb2tlbjogc3RyaW5nO1xuICB1cGRhdGVzVXJsOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFNhbGVzZm9yY2VSZXN1bHREYXRhIHtcbiAgcHJvdmlkZXJJZDogc3RyaW5nO1xuICBwYWdlVXJsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2FsZXNmb3JjZVNldHRpbmdzIHtcbiAgY29uc3VtZXJLZXk6IHN0cmluZztcbiAgaXNTYW5kYm94OiBib29sZWFuO1xuICBvcmdVcmw6IHN0cmluZztcbiAgaWNvbk1hcDoge1xuICAgIFtpZDogc3RyaW5nXTogc3RyaW5nO1xuICB9O1xufVxuXG5sZXQgaW50ZWdyYXRpb25NYW5hZ2VyOiBJbnRlZ3JhdGlvbk1hbmFnZXI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWdpc3RlcihpbnRlZ3JhdGlvbk1hbjogSW50ZWdyYXRpb25NYW5hZ2VyLCBpbnRlZ3JhdGlvbjogSW50ZWdyYXRpb248U2FsZXNmb3JjZVNldHRpbmdzPik6IFByb21pc2U8dm9pZD4ge1xuICBpbnRlZ3JhdGlvbk1hbmFnZXIgPSBpbnRlZ3JhdGlvbk1hbmFnZXI7XG4gIGNvbnNvbGUubG9nKFwiUmVnaXN0ZXJpbmcgU2FsZXNGb3JjZVwiKTtcbiAgdHJ5IHtcbiAgICBhd2FpdCBzYWxlc0ZvcmNlQ29ubmVjdChpbnRlZ3JhdGlvbik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjb25uZWN0aW5nIHRvIFNhbGVzRm9yY2VcIiwgZXJyKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVyZWdpc3RlcihpbnRlZ3JhdGlvbjogSW50ZWdyYXRpb248U2FsZXNmb3JjZVNldHRpbmdzPik6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBzYWxlc0ZvcmNlRGlzY29ubmVjdCgpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2FsZXNGb3JjZUNvbm5lY3QoaW50ZWdyYXRpb246IEludGVncmF0aW9uPFNhbGVzZm9yY2VTZXR0aW5ncz4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKGludGVncmF0aW9uPy5kYXRhPy5vcmdVcmwgJiYgIXNhbGVzRm9yY2VDb25uZWN0aW9uKSB7XG4gICAgZW5hYmxlTG9nZ2luZygpO1xuICAgIHNhbGVzRm9yY2VDb25uZWN0aW9uID0gYXdhaXQgY29ubmVjdChcbiAgICAgIGludGVncmF0aW9uPy5kYXRhLm9yZ1VybCxcbiAgICAgIGludGVncmF0aW9uPy5kYXRhLmNvbnN1bWVyS2V5LFxuICAgICAgaW50ZWdyYXRpb24/LmRhdGEuaXNTYW5kYm94XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2FsZXNGb3JjZURpc2Nvbm5lY3QoKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmIChzYWxlc0ZvcmNlQ29ubmVjdGlvbikge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBzYWxlc0ZvcmNlQ29ubmVjdGlvbi5kaXNjb25uZWN0KCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZGlzY29ubmVjdGluZyBTYWxlc0ZvcmNlXCIsIGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNhbGVzRm9yY2VDb25uZWN0aW9uID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2V0T2JqZWN0VXJsID0gKFxuICBvYmplY3RJZDogc3RyaW5nLFxuICBzYWxlc2ZvcmNlT3JnT3JpZ2luOiBzdHJpbmdcbik6IHN0cmluZyA9PiB7XG4gIHJldHVybiBgJHtzYWxlc2ZvcmNlT3JnT3JpZ2lufS8ke29iamVjdElkfWA7XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXBpU2VhcmNoUmVzdWx0cyhcbiAgcXVlcnk6IHN0cmluZyxcbiAgc2VsZWN0ZWRPYmplY3RzPzogc3RyaW5nW11cbik6IFByb21pc2U8XG4gIChcbiAgICB8IFNhbGVzZm9yY2VDb250YWN0XG4gICAgfCBTYWxlc2ZvcmNlQWNjb3VudFxuICAgIHwgU2FsZXNmb3JjZVRhc2tcbiAgICB8IFNhbGVzZm9yY2VDb250ZW50Tm90ZVxuICAgIHwgU2FsZXNmb3JjZUZlZWRJdGVtXG4gIClbXVxuPiB7XG4gIGNvbnN0IGFjY291bnRGaWVsZFNwZWMgPSBcIkFjY291bnQoSWQsIEluZHVzdHJ5LCBOYW1lLCBQaG9uZSwgVHlwZSwgV2Vic2l0ZSlcIjtcbiAgY29uc3QgY29udGFjdEZpZWxkU3BlYyA9IFwiQ29udGFjdChEZXBhcnRtZW50LCBFbWFpbCwgSWQsIE5hbWUsIFBob25lLCBUaXRsZSlcIjtcbiAgY29uc3QgdGFza0ZpZWxkU3BlYyA9IFwiVGFzayhJZCwgU3ViamVjdCwgRGVzY3JpcHRpb24pXCI7XG4gIGNvbnN0IGNvbnRlbnROb3RlRmllbGRTcGVjID0gXCJDb250ZW50Tm90ZShJZCwgVGl0bGUsIENvbnRlbnQsIFRleHRQcmV2aWV3KVwiO1xuICBjb25zdCBmaWVsZFNwZWNNYXAgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nPihbXG4gICAgW1wiQWNjb3VudFwiLCBhY2NvdW50RmllbGRTcGVjXSxcbiAgICBbXCJDb250YWN0XCIsIGNvbnRhY3RGaWVsZFNwZWNdLFxuICAgIFtcIlRhc2tcIiwgdGFza0ZpZWxkU3BlY10sXG4gICAgW1wiQ29udGVudE5vdGVcIiwgY29udGVudE5vdGVGaWVsZFNwZWNdLFxuICBdKTtcbiAgbGV0IGZpZWxkU3BlYyA9IFsuLi5maWVsZFNwZWNNYXBdXG4gICAgLmZpbHRlcigoeCkgPT4ge1xuICAgICAgaWYgKHNlbGVjdGVkT2JqZWN0cz8ubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWRPYmplY3RzLmluY2x1ZGVzKHhbMF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSlcbiAgICAubWFwKCh4KSA9PiB4WzFdKVxuICAgIC5qb2luKFwiLCBcIik7XG5cbiAgY29uc3QgYmF0Y2g6IFNhbGVzZm9yY2VCYXRjaFJlcXVlc3RJdGVtW10gPSBbXTtcblxuICBpZiAoZmllbGRTcGVjLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBzYWxlc2ZvcmNlU2VhcmNoUXVlcnkgPSBgRklORCB7JHtlc2NhcGVRdWVyeShcbiAgICAgIHF1ZXJ5XG4gICAgKX19IElOIEFMTCBGSUVMRFMgUkVUVVJOSU5HICR7ZmllbGRTcGVjfSBMSU1JVCAyNWA7XG5cbiAgICBiYXRjaC5wdXNoKHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIHVybDogYC9zZXJ2aWNlcy9kYXRhL3ZYWC5YL3NlYXJjaD9xPSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgICAgICBzYWxlc2ZvcmNlU2VhcmNoUXVlcnlcbiAgICAgICl9YCxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IGluY2x1ZGVDaGF0dGVyID1cbiAgICAhc2VsZWN0ZWRPYmplY3RzPy5sZW5ndGggfHwgc2VsZWN0ZWRPYmplY3RzLmluY2x1ZGVzKFwiQ2hhdHRlclwiKTtcbiAgaWYgKGluY2x1ZGVDaGF0dGVyKSB7XG4gICAgYmF0Y2gucHVzaCh7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICB1cmw6IGAvc2VydmljZXMvZGF0YS92WFguWC9jaGF0dGVyL2ZlZWQtZWxlbWVudHM/cT0ke3F1ZXJ5fSZwYWdlU2l6ZT0yNSZzb3J0PUxhc3RNb2RpZmllZERhdGVEZXNjYCxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IGJhdGNoZWRSZXN1bHRzID0gYXdhaXQgZ2V0QmF0Y2hlZFJlc3VsdHM8XG4gICAgfCBTYWxlc2ZvcmNlUmVzdEFwaVNlYXJjaFJlc3BvbnNlPFxuICAgICAgfCBTYWxlc2ZvcmNlQWNjb3VudFxuICAgICAgfCBTYWxlc2ZvcmNlQ29udGFjdFxuICAgICAgfCBTYWxlc2ZvcmNlVGFza1xuICAgICAgfCBTYWxlc2ZvcmNlQ29udGVudE5vdGVcbiAgICA+XG4gICAgfCBTYWxlc2ZvcmNlRmVlZEVsZW1lbnRQYWdlXG4gID4oYmF0Y2gpO1xuXG4gIGxldCByZXN1bHRzOiAoXG4gICAgfCBTYWxlc2ZvcmNlQWNjb3VudFxuICAgIHwgU2FsZXNmb3JjZUNvbnRhY3RcbiAgICB8IFNhbGVzZm9yY2VUYXNrXG4gICAgfCBTYWxlc2ZvcmNlQ29udGVudE5vdGVcbiAgICB8IFNhbGVzZm9yY2VGZWVkSXRlbVxuICApW10gPSBbXTtcblxuICBpZiAoYmF0Y2hlZFJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgIGxldCBpZHggPSAwO1xuICAgIGlmIChmaWVsZFNwZWMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3Qgc2VhcmNoUmVzcG9uc2UgPSBiYXRjaGVkUmVzdWx0c1tcbiAgICAgICAgaWR4KytcbiAgICAgIF0gYXMgU2FsZXNmb3JjZVJlc3RBcGlTZWFyY2hSZXNwb25zZTxcbiAgICAgICAgfCBTYWxlc2ZvcmNlQWNjb3VudFxuICAgICAgICB8IFNhbGVzZm9yY2VDb250YWN0XG4gICAgICAgIHwgU2FsZXNmb3JjZVRhc2tcbiAgICAgICAgfCBTYWxlc2ZvcmNlQ29udGVudE5vdGVcbiAgICAgID47XG4gICAgICBpZiAoc2VhcmNoUmVzcG9uc2Uuc2VhcmNoUmVjb3Jkcykge1xuICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5jb25jYXQoc2VhcmNoUmVzcG9uc2Uuc2VhcmNoUmVjb3Jkcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGluY2x1ZGVDaGF0dGVyKSB7XG4gICAgICBjb25zdCBjaGF0dGVyUmVzcG9uc2UgPSBiYXRjaGVkUmVzdWx0c1tcbiAgICAgICAgaWR4KytcbiAgICAgIF0gYXMgU2FsZXNmb3JjZUZlZWRFbGVtZW50UGFnZTtcbiAgICAgIGlmIChjaGF0dGVyUmVzcG9uc2UuZWxlbWVudHMpIHtcbiAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuY29uY2F0KGNoYXR0ZXJSZXNwb25zZS5lbGVtZW50cyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRCYXRjaGVkUmVzdWx0czxUPihcbiAgYmF0Y2hSZXF1ZXN0czogU2FsZXNmb3JjZUJhdGNoUmVxdWVzdEl0ZW1bXVxuKTogUHJvbWlzZTxUW10+IHtcbiAgaWYgKGJhdGNoUmVxdWVzdHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IGJhdGNoOiBTYWxlc2ZvcmNlQmF0Y2hSZXF1ZXN0ID0geyBiYXRjaFJlcXVlc3RzLCBoYWx0T25FcnJvcjogZmFsc2UgfTtcblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNhbGVzRm9yY2VDb25uZWN0aW9uLmV4ZWN1dGVBcGlSZXF1ZXN0PFNhbGVzZm9yY2VCYXRjaFJlc3BvbnNlPihcbiAgICBgL3NlcnZpY2VzL2RhdGEvdlhYLlgvY29tcG9zaXRlL2JhdGNoL2AsXG4gICAgXCJQT1NUXCIsXG4gICAgYmF0Y2gsXG4gICAgeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9XG4gICk7XG5cbiAgcmV0dXJuIHJlc3BvbnNlLmRhdGE/LnJlc3VsdHMubWFwKChyKSA9PiByLnJlc3VsdCBhcyBUKSA/PyBbXTtcbn1cblxuZnVuY3Rpb24gZXNjYXBlUXVlcnkocXVlcnk6IHN0cmluZyk6IHN0cmluZyB7XG4gIC8vIFRoZXJlIGFyZSBzb21lIHJlc2VydmVkIGNoYXJhY3RlcnMgZm9yIHF1ZXJpZXMgc28gd2UgbmVlZCB0byBlc2NhcGUgdGhlbVxuICAvLyBodHRwczovL2RldmVsb3Blci5zYWxlc2ZvcmNlLmNvbS9kb2NzL2F0bGFzLmVuLXVzLnNvcWxfc29zbC5tZXRhL3NvcWxfc29zbC9zZm9yY2VfYXBpX2NhbGxzX3Nvc2xfZmluZC5odG0jaTE0MjMxMDVcbiAgcmV0dXJuIHF1ZXJ5LnJlcGxhY2UoL1s/JnwhKClefio6XCInK3t9XFwtW1xcXVxcXFxdL2dtLCBcIlxcXFwkJlwiKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFwcFNlYXJjaEVudHJpZXMoaW50ZWdyYXRpb246IEludGVncmF0aW9uPFNhbGVzZm9yY2VTZXR0aW5ncz4pOiBQcm9taXNlPEhvbWVTZWFyY2hSZXN1bHRbXT4ge1xuICBjb25zdCByZXN1bHRzID0gW107XG4gIGlmIChpbnRlZ3JhdGlvbj8uZGF0YT8ub3JnVXJsKSB7XG4gICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgIGFjdGlvbnM6IFt7IG5hbWU6IFwiQnJvd3NlXCIsIGhvdGtleTogXCJlbnRlclwiIH1dLFxuICAgICAgZGF0YToge1xuICAgICAgICBwcm92aWRlcklkLFxuICAgICAgICBwYWdlVXJsOiBpbnRlZ3JhdGlvbj8uZGF0YT8ub3JnVXJsLFxuICAgICAgICB0YWdzOiBbXCJzYWxlc2ZvcmNlXCJdXG4gICAgICB9IGFzIFNhbGVzZm9yY2VSZXN1bHREYXRhLFxuICAgICAgaWNvbjogaW50ZWdyYXRpb24uaWNvbixcbiAgICAgIGtleTogQlJPV1NFX1NFQVJDSF9SRVNVTFRfS0VZLFxuICAgICAgdGVtcGxhdGU6IFwiUGxhaW5cIixcbiAgICAgIHRlbXBsYXRlQ29udGVudDogdW5kZWZpbmVkLFxuICAgICAgdGl0bGU6IFwiQnJvd3NlIFNhbGVzZm9yY2VcIixcbiAgICB9IGFzIENMSVNlYXJjaFJlc3VsdFBsYWluKTtcblxuICAgIGlmICghc2FsZXNGb3JjZUNvbm5lY3Rpb24pIHtcbiAgICAgIHJlc3VsdHMucHVzaChnZXRSZWNvbm5lY3RTZWFyY2hSZXN1bHQoaW50ZWdyYXRpb24pKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0cztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGl0ZW1TZWxlY3Rpb24oXG4gIGludGVncmF0aW9uOiBJbnRlZ3JhdGlvbjxTYWxlc2ZvcmNlU2V0dGluZ3M+LFxuICByZXN1bHQ6IENMSURpc3BhdGNoZWRTZWFyY2hSZXN1bHQsXG4gIGxhc3RSZXNwb25zZT86IENMSVNlYXJjaExpc3RlbmVyUmVzcG9uc2Vcbik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAvLyBpZiB0aGUgdXNlciBjbGlja2VkIHRoZSByZWNvbm5lY3QgcmVzdWx0LCByZWNvbm5lY3QgdG8gc2FsZXNmb3JjZSBhbmQgcmUtcnVuIHF1ZXJ5XG4gIGlmIChyZXN1bHQua2V5ID09PSBOT1RfQ09OTkVDVEVEX1NFQVJDSF9SRVNVTFRfS0VZKSB7XG4gICAgYXdhaXQgc2FsZXNGb3JjZUNvbm5lY3QoaW50ZWdyYXRpb24pXG5cbiAgICBpZiAocmVzdWx0LmRhdGE/LnF1ZXJ5KSB7XG4gICAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGdldFNlYXJjaFJlc3VsdHMoXG4gICAgICAgIGludGVncmF0aW9uLFxuICAgICAgICByZXN1bHQuZGF0YT8ucXVlcnksXG4gICAgICAgIHJlc3VsdC5kYXRhPy5maWx0ZXJzXG4gICAgICApO1xuICAgICAgaWYgKGxhc3RSZXNwb25zZSkge1xuICAgICAgICBsYXN0UmVzcG9uc2UucmV2b2tlKE5PVF9DT05ORUNURURfU0VBUkNIX1JFU1VMVF9LRVkpO1xuICAgICAgICBsYXN0UmVzcG9uc2UucmVzcG9uZChyZXN1bHRzLnJlc3VsdHMpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIG90aGVyd2lzZSBvcGVuIHRoZSByZXN1bHQgcGFnZSB1cmwgaW4gYnJvd3NlclxuICBjb25zdCBkYXRhID0gcmVzdWx0LmRhdGEgYXMgU2FsZXNmb3JjZVJlc3VsdERhdGE7XG4gIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBwcmVsb2FkID0gaW50ZWdyYXRpb25NYW5hZ2VyLnBsYXRmb3JtUHJvdmlkZXIucm9vdFVybCArIFwiL3ZpZXdzL3NhbGVzZm9yY2UvcHJlbG9hZC5qc1wiO1xuICAgIGNvbnN0IHZpZXdPcHRpb25zID0ge1xuICAgICAgdXJsOiBkYXRhLnBhZ2VVcmwsXG4gICAgICBmZGMzSW50ZXJvcEFwaTogXCIxLjJcIixcbiAgICAgIGludGVyb3A6IHtcbiAgICAgICAgY3VycmVudENvbnRleHRHcm91cDogXCJncmVlblwiLFxuICAgICAgfSxcbiAgICAgIGN1c3RvbURhdGE6IHsgYnV0dG9uTGFiZWw6IFwiUHJvY2VzcyBQYXJ0aWNpcGFudFwiIH0sXG4gICAgICBwcmVsb2FkU2NyaXB0czogW3sgdXJsOiBwcmVsb2FkIH1dLFxuICAgICAgdGFyZ2V0OiB1bmRlZmluZWQsXG4gICAgfTtcbiAgICBhd2FpdCBpbnRlZ3JhdGlvbk1hbmFnZXIubGF1bmNoVmlldyh2aWV3T3B0aW9ucyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VhcmNoUmVzdWx0cyhcbiAgaW50ZWdyYXRpb246IEludGVncmF0aW9uPFNhbGVzZm9yY2VTZXR0aW5ncz4sXG4gIHF1ZXJ5OiBzdHJpbmcsXG4gIGZpbHRlcnM/OiBDTElGaWx0ZXJbXVxuKTogUHJvbWlzZTxIb21lU2VhcmNoUmVzcG9uc2U+IHtcblxuICBpZiAoc2FsZXNGb3JjZUNvbm5lY3Rpb24pIHtcbiAgICBsZXQgc2VhcmNoUmVzdWx0czogKFxuICAgICAgfCBTYWxlc2ZvcmNlQWNjb3VudFxuICAgICAgfCBTYWxlc2ZvcmNlQ29udGFjdFxuICAgICAgfCBTYWxlc2ZvcmNlVGFza1xuICAgICAgfCBTYWxlc2ZvcmNlQ29udGVudE5vdGVcbiAgICAgIHwgU2FsZXNmb3JjZUZlZWRJdGVtXG4gICAgKVtdO1xuXG4gICAgbGV0IHNlbGVjdGVkT2JqZWN0czogc3RyaW5nW10gPSBbXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmaWx0ZXJzKSAmJiBmaWx0ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IG9iamVjdHNGaWx0ZXIgPSBmaWx0ZXJzLmZpbmQoKHgpID0+IHguaWQgPT09IE9CSkVDVFNfRklMVEVSX0lEKTtcbiAgICAgIGlmIChvYmplY3RzRmlsdGVyKSB7XG4gICAgICAgIHNlbGVjdGVkT2JqZWN0cyA9IChcbiAgICAgICAgICBBcnJheS5pc0FycmF5KG9iamVjdHNGaWx0ZXIub3B0aW9ucylcbiAgICAgICAgICAgID8gb2JqZWN0c0ZpbHRlci5vcHRpb25zXG4gICAgICAgICAgICA6IFtvYmplY3RzRmlsdGVyLm9wdGlvbnNdXG4gICAgICAgIClcbiAgICAgICAgICAuZmlsdGVyKCh4KSA9PiAhIXguaXNTZWxlY3RlZClcbiAgICAgICAgICAubWFwKCh4KSA9PiAoeC52YWx1ZSA9PT0gXCJOb3RlXCIgPyBcIkNvbnRlbnROb3RlXCIgOiB4LnZhbHVlKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHNlYXJjaFJlc3VsdHMgPSBhd2FpdCBnZXRBcGlTZWFyY2hSZXN1bHRzKHF1ZXJ5LCBzZWxlY3RlZE9iamVjdHMpO1xuXG4gICAgICBsZXQgcmVzdWx0cyA9IHNlYXJjaFJlc3VsdHMubWFwKChzZWFyY2hSZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKFwiV2Vic2l0ZVwiIGluIHNlYXJjaFJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY3Rpb25zOiBbeyBuYW1lOiBcIlZpZXdcIiwgaG90a2V5OiBcImVudGVyXCIgfV0sXG4gICAgICAgICAgICBsYWJlbDogc2VhcmNoUmVzdWx0LmF0dHJpYnV0ZXMudHlwZSxcbiAgICAgICAgICAgIGtleTogc2VhcmNoUmVzdWx0LklkLFxuICAgICAgICAgICAgdGl0bGU6IHNlYXJjaFJlc3VsdC5OYW1lLFxuICAgICAgICAgICAgaWNvbjogaW50ZWdyYXRpb24/LmRhdGE/Lmljb25NYXAuYWNjb3VudCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgcHJvdmlkZXJJZCxcbiAgICAgICAgICAgICAgcGFnZVVybDogZ2V0T2JqZWN0VXJsKHNlYXJjaFJlc3VsdC5JZCwgaW50ZWdyYXRpb24uZGF0YT8ub3JnVXJsKSxcbiAgICAgICAgICAgICAgdGFnczogW1wic2FsZXNmb3JjZVwiXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIkNvbnRhY3RcIixcbiAgICAgICAgICAgIHRlbXBsYXRlQ29udGVudDoge1xuICAgICAgICAgICAgICBuYW1lOiBzZWFyY2hSZXN1bHQuTmFtZSxcbiAgICAgICAgICAgICAgdGl0bGU6IHNlYXJjaFJlc3VsdC5JbmR1c3RyeSxcbiAgICAgICAgICAgICAgZGV0YWlsczogW1xuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgIFtcIlBob25lXCIsIHNlYXJjaFJlc3VsdC5QaG9uZV0sXG4gICAgICAgICAgICAgICAgICBbXCJUeXBlXCIsIHNlYXJjaFJlc3VsdC5UeXBlXSxcbiAgICAgICAgICAgICAgICAgIFtcIldlYnNpdGVcIiwgc2VhcmNoUmVzdWx0LldlYnNpdGVdLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0gYXMgQ0xJU2VhcmNoUmVzdWx0Q29udGFjdDtcbiAgICAgICAgfSBlbHNlIGlmIChcIkVtYWlsXCIgaW4gc2VhcmNoUmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjdGlvbnM6IFt7IG5hbWU6IFwiVmlld1wiLCBob3RrZXk6IFwiZW50ZXJcIiB9XSxcbiAgICAgICAgICAgIGxhYmVsOiBzZWFyY2hSZXN1bHQuYXR0cmlidXRlcy50eXBlLFxuICAgICAgICAgICAga2V5OiBzZWFyY2hSZXN1bHQuSWQsXG4gICAgICAgICAgICB0aXRsZTogc2VhcmNoUmVzdWx0Lk5hbWUsXG4gICAgICAgICAgICBpY29uOiBpbnRlZ3JhdGlvbj8uZGF0YT8uaWNvbk1hcC5jb250YWN0LFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBwcm92aWRlcklkLFxuICAgICAgICAgICAgICBwYWdlVXJsOiBnZXRPYmplY3RVcmwoc2VhcmNoUmVzdWx0LklkLCBpbnRlZ3JhdGlvbi5kYXRhPy5vcmdVcmwpLFxuICAgICAgICAgICAgICB0YWdzOiBbXCJzYWxlc2ZvcmNlXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiQ29udGFjdFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVDb250ZW50OiB7XG4gICAgICAgICAgICAgIG5hbWU6IHNlYXJjaFJlc3VsdC5OYW1lLFxuICAgICAgICAgICAgICB0aXRsZTogc2VhcmNoUmVzdWx0LlRpdGxlLFxuICAgICAgICAgICAgICB1c2VJbml0aWFsczogdHJ1ZSxcbiAgICAgICAgICAgICAgZGV0YWlsczogW1xuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgIFtcIkRlcGFydG1lbnRcIiwgc2VhcmNoUmVzdWx0LkRlcGFydG1lbnRdLFxuICAgICAgICAgICAgICAgICAgW1wiRW1haWxcIiwgc2VhcmNoUmVzdWx0LkVtYWlsXSxcbiAgICAgICAgICAgICAgICAgIFtcIldvcmsgI1wiLCBzZWFyY2hSZXN1bHQuUGhvbmVdLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0gYXMgQ0xJU2VhcmNoUmVzdWx0Q29udGFjdDtcbiAgICAgICAgfSBlbHNlIGlmIChcIkRlc2NyaXB0aW9uXCIgaW4gc2VhcmNoUmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjdGlvbnM6IFt7IG5hbWU6IFwiVmlld1wiLCBob3RrZXk6IFwiZW50ZXJcIiB9XSxcbiAgICAgICAgICAgIGxhYmVsOiBzZWFyY2hSZXN1bHQuYXR0cmlidXRlcy50eXBlLFxuICAgICAgICAgICAga2V5OiBzZWFyY2hSZXN1bHQuSWQsXG4gICAgICAgICAgICB0aXRsZTogc2VhcmNoUmVzdWx0LlN1YmplY3QsXG4gICAgICAgICAgICBpY29uOiBpbnRlZ3JhdGlvbj8uZGF0YT8uaWNvbk1hcC50YXNrLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBwcm92aWRlcklkLFxuICAgICAgICAgICAgICBwYWdlVXJsOiBnZXRPYmplY3RVcmwoc2VhcmNoUmVzdWx0LklkLCBpbnRlZ3JhdGlvbi5kYXRhPy5vcmdVcmwpLFxuICAgICAgICAgICAgICB0YWdzOiBbXCJzYWxlc2ZvcmNlXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiTGlzdFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVDb250ZW50OiBbXG4gICAgICAgICAgICAgIFtcIlN1YmplY3RcIiwgc2VhcmNoUmVzdWx0LlN1YmplY3RdLFxuICAgICAgICAgICAgICBbXCJDb21tZW50c1wiLCBzZWFyY2hSZXN1bHQuRGVzY3JpcHRpb25dLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9IGFzIENMSVNlYXJjaFJlc3VsdExpc3Q7XG4gICAgICAgIH0gZWxzZSBpZiAoXCJUZXh0UHJldmlld1wiIGluIHNlYXJjaFJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY3Rpb25zOiBbeyBuYW1lOiBcIlZpZXdcIiwgaG90a2V5OiBcImVudGVyXCIgfV0sXG4gICAgICAgICAgICBsYWJlbDogXCJOb3RlXCIsXG4gICAgICAgICAgICBrZXk6IHNlYXJjaFJlc3VsdC5JZCxcbiAgICAgICAgICAgIHRpdGxlOiBzZWFyY2hSZXN1bHQuVGl0bGUsXG4gICAgICAgICAgICBpY29uOiBpbnRlZ3JhdGlvbj8uZGF0YT8uaWNvbk1hcC5ub3RlLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBwcm92aWRlcklkLFxuICAgICAgICAgICAgICBwYWdlVXJsOiBnZXRPYmplY3RVcmwoc2VhcmNoUmVzdWx0LklkLCBpbnRlZ3JhdGlvbi5kYXRhPy5vcmdVcmwpLFxuICAgICAgICAgICAgICB0YWdzOiBbXCJzYWxlc2ZvcmNlXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiTGlzdFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVDb250ZW50OiBbXG4gICAgICAgICAgICAgIFtcIlRpdGxlXCIsIHNlYXJjaFJlc3VsdC5UaXRsZV0sXG4gICAgICAgICAgICAgIFtcIkNvbnRlbnRcIiwgc2VhcmNoUmVzdWx0Py5UZXh0UHJldmlld10sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0gYXMgQ0xJU2VhcmNoUmVzdWx0TGlzdDtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBcImFjdG9yXCIgaW4gc2VhcmNoUmVzdWx0ICYmXG4gICAgICAgICAgKHNlYXJjaFJlc3VsdC50eXBlID09PSBcIlRleHRQb3N0XCIgfHwgc2VhcmNoUmVzdWx0LnR5cGUgPT09IFwiQ29udGVudFBvc3RcIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjdGlvbnM6IFt7IG5hbWU6IFwiVmlld1wiLCBob3RrZXk6IFwiZW50ZXJcIiB9XSxcbiAgICAgICAgICAgIGxhYmVsOiBcIkNoYXR0ZXJcIixcbiAgICAgICAgICAgIGtleTogc2VhcmNoUmVzdWx0LmlkLFxuICAgICAgICAgICAgdGl0bGU6IHNlYXJjaFJlc3VsdC5hY3Rvcj8uZGlzcGxheU5hbWUsXG4gICAgICAgICAgICBpY29uOiBpbnRlZ3JhdGlvbj8uZGF0YT8uaWNvbk1hcC5jaGF0dGVyLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBwcm92aWRlcklkLFxuICAgICAgICAgICAgICBwYWdlVXJsOiBnZXRPYmplY3RVcmwoc2VhcmNoUmVzdWx0LmlkLCBpbnRlZ3JhdGlvbi5kYXRhPy5vcmdVcmwpLFxuICAgICAgICAgICAgICB0YWdzOiBbXCJzYWxlc2ZvcmNlXCJdXG4gICAgICAgICAgICB9IGFzIFNhbGVzZm9yY2VSZXN1bHREYXRhLFxuICAgICAgICAgICAgdGVtcGxhdGU6IFwiQ29udGFjdFwiLFxuICAgICAgICAgICAgdGVtcGxhdGVDb250ZW50OiB7XG4gICAgICAgICAgICAgIG5hbWU6IHNlYXJjaFJlc3VsdC5hY3Rvcj8uZGlzcGxheU5hbWUsXG4gICAgICAgICAgICAgIHVzZUluaXRpYWxzOiB0cnVlLFxuICAgICAgICAgICAgICBkZXRhaWxzOiBbXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgW1wiSGVhZGVyXCIsIHNlYXJjaFJlc3VsdD8uaGVhZGVyPy50ZXh0XSxcbiAgICAgICAgICAgICAgICAgIFtcIk5vdGVcIiwgc2VhcmNoUmVzdWx0Py5ib2R5Py50ZXh0XSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9IGFzIENMSVNlYXJjaFJlc3VsdENvbnRhY3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaW4gdGhpcyBjYXNlIHdlIGFyZSBvbmx5IHNlYXJjaGluZyBmb3IgYWNjb3VudHMsIGNvbnRhY3RzLCB0YXNrcywgY29udGVudCBub3RlcyBhbmQgY2hhdHRlclxuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBmaWx0ZXJlZFJlc3VsdHMgPSByZXN1bHRzLmZpbHRlcihcbiAgICAgICAgQm9vbGVhblxuICAgICAgKSBhcyBDTElTZWFyY2hSZXN1bHRDb250YWN0PEFjdGlvbj5bXTtcbiAgICAgIGNvbnN0IG9iamVjdHMgPSBzZWFyY2hSZXN1bHRzLm1hcCgocmVzdWx0KSA9PlxuICAgICAgICBcImF0dHJpYnV0ZXNcIiBpbiByZXN1bHQgPyByZXN1bHQuYXR0cmlidXRlcy50eXBlIDogXCJDaGF0dGVyXCJcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3VsdHM6IGZpbHRlcmVkUmVzdWx0cyxcbiAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgIGZpbHRlcnM6IGdldFNlYXJjaEZpbHRlcnMoXG4gICAgICAgICAgICBvYmplY3RzLm1hcCgoYykgPT4gKGMgPT09IFwiQ29udGVudE5vdGVcIiA/IFwiTm90ZVwiIDogYykpXG4gICAgICAgICAgKSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBhd2FpdCBzYWxlc0ZvcmNlRGlzY29ubmVjdCgpO1xuICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIENvbm5lY3Rpb25FcnJvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3VsdHM6IFtcbiAgICAgICAgICAgIGdldFJlY29ubmVjdFNlYXJjaFJlc3VsdChpbnRlZ3JhdGlvbiwgcXVlcnksIGZpbHRlcnMpLFxuICAgICAgICAgIF1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZXRyaWV2aW5nIFNhbGVzRm9yY2Ugc2VhcmNoIHJlc3VsdHNcIiwgZXJyKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVzdWx0czogW11cbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UmVjb25uZWN0U2VhcmNoUmVzdWx0KGludGVncmF0aW9uOiBJbnRlZ3JhdGlvbjxTYWxlc2ZvcmNlU2V0dGluZ3M+LCBxdWVyeT86IHN0cmluZywgZmlsdGVycz86IENMSUZpbHRlcltdKSB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uczogW3sgbmFtZTogXCJSZWNvbm5lY3RcIiwgaG90a2V5OiBcImVudGVyXCIgfV0sXG4gICAga2V5OiBOT1RfQ09OTkVDVEVEX1NFQVJDSF9SRVNVTFRfS0VZLFxuICAgIGljb246IGludGVncmF0aW9uPy5pY29uLFxuICAgIHRpdGxlOiBcIlJlY29ubmVjdCB0byBTYWxlc2ZvcmNlXCIsXG4gICAgZGF0YToge1xuICAgICAgcHJvdmlkZXJJZCxcbiAgICAgIHF1ZXJ5LFxuICAgICAgZmlsdGVycyxcbiAgICB9LFxuICB9IGFzIENMSVNlYXJjaFJlc3VsdFNpbXBsZVRleHRcbn1cblxuZnVuY3Rpb24gZ2V0U2VhcmNoRmlsdGVycyhvYmplY3RzOiBzdHJpbmdbXSk6IENMSUZpbHRlcltdIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0cykgJiYgb2JqZWN0cy5sZW5ndGggPiAwKSB7XG4gICAgbGV0IGZpbHRlcnM6IENMSUZpbHRlcltdID0gW107XG4gICAgbGV0IHVuaXF1ZU9iamVjdHMgPSBbLi4ubmV3IFNldChvYmplY3RzLnNvcnQoKSldO1xuICAgIGxldCBvYmplY3RGaWx0ZXI6IENMSUZpbHRlciA9IHtcbiAgICAgIGlkOiBPQkpFQ1RTX0ZJTFRFUl9JRCxcbiAgICAgIHRpdGxlOiBcIk9iamVjdHNcIixcbiAgICAgIHR5cGU6IFwiTXVsdGlTZWxlY3RcIiBhcyBhbnksXG4gICAgICBvcHRpb25zOiBbXSxcbiAgICB9O1xuXG4gICAgdW5pcXVlT2JqZWN0cy5mb3JFYWNoKChvYmplY3QpID0+IHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdEZpbHRlci5vcHRpb25zKSkge1xuICAgICAgICBvYmplY3RGaWx0ZXIub3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICB2YWx1ZTogb2JqZWN0LFxuICAgICAgICAgIGlzU2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZpbHRlcnMucHVzaChvYmplY3RGaWx0ZXIpO1xuICAgIHJldHVybiBmaWx0ZXJzO1xuICB9XG4gIHJldHVybiBbXTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=